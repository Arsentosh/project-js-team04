import"./shopping-list-561ee141.js";const P="https://books-backend.p.goit.global/",_t="books/category-list",Tt="books/top-books",At="books/category",Ct="books/";async function Dt(){return await(await axios.get(`${P}${_t}`)).data}async function Bt(){return await(await axios.get(`${P}${Tt}`)).data}function kt(e){return e.split(" ").join("%20")}async function $t(e){return await(await axios.get(`${P}${At}?category=${e}`)).data}async function Ot(e){return await(await axios.get(`${P}${Ct}${e}`)).data}const O=document.querySelector(".categories-list");console.log(O);Dt().then(e=>{const t=e.map(({list_name:s})=>`<li class="list-categories-item">${s}</li>`).join("");console.log("html",t),O.insertAdjacentHTML("beforeend",t),console.log("getCategoryListArr",e);const n=O.firstChild,r=n.textContent.toUpperCase();n.textContent=r}).catch(e=>console.log("rej",e));O.addEventListener("click",Mt);function Mt(e){}const Rt="Mass Market Monthly",Pe=kt(Rt);console.log("categoryBookFetch",Pe);$t(Pe).then(e=>{console.log("Get book by category",e),Lt(e)}).catch(e=>console.log(e));function Lt(e){const t=document.querySelector(".list-books-by-category"),n=e.map(({book_image:o,title:r,author:s,_id:i})=>`<li data-book-id='${i}' class="element-books-by-category js-target">
      <img src="${o}" alt="${r} width="335px" height="485px" class="img-books-by-category js-target" />
      <div class="title-container js-target">
      <h3 class="name-books-by-category js-target">${r}</h3>
      <p class="title-books-by-category js-target">${s}</p>
      </div>
      </li>`).join("");return t.innerHTML=n,n}document.querySelector(".modal");const xt=document.querySelector(".modal-open"),ie=document.querySelector(".js-backdrop"),Pt=document.querySelector(".close-btn-modal");document.querySelector(".marcup");document.querySelector(".add-books-backend");xt.addEventListener("click",Ne);ie.addEventListener("click",Nt);Pt.addEventListener("click",ae);window.addEventListener("keydown",ce);function Ne(){ie.classList.remove("is-hidden"),window.addEventListener("keydown",ce)}function ae(){ie.classList.add("is-hidden"),window.removeEventListener("keydown",ce)}function Nt(e){e.currentTarget===e.target&&ae()}function ce(e){e.code==="Escape"&&ae()}const jt=document.querySelector(".container-books-by-category");jt.addEventListener("click",Ft);function Ft(e){if(!e.target.classList.contains("js-target"))return;const t=e.target.dataset.bookId??e.target.closest("li").dataset.bookId;console.log("Get BOOK ID ======",t),Ot(t).then(n=>console.log("bookId",n)).catch(n=>console.log(n)),Ne()}Bt().then(e=>{console.log("getTopBooksArr",e)}).catch(e=>console.log("rej",e));const Ht=[{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:"./img/save-the-children.png",img2x:"./img/save-the-children-2x.png"},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:"./img/project-hope.png",img2x:"./img/project-hope-2x.png"},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:"./img/international-medical-corps.png",img2x:"./img/international-medical-corps-2x.png"},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:"./img/razom.png",img2x:"./img/razom-2x.png"},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:"./img/action-against-hunger.png",img2x:"./img/action-against-hunger-2x.png"},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:"./img/charity-foundation-sergiy-prytula.png",img2x:"./img/charity-foundation-sergiy-prytula-2x.png"},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:"./img/medecins-sans-frontieres.png",img2x:"./img/medecins-sans-frontieres-2x.png"},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:"./img/world-vision.png",img2x:"./img/world-vision-2x.png"},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:"./img/united24.png",img2x:"./img/united24-2x.png"}],me=document.querySelector(".list"),Vt=document.getElementById("toggleButton");let $=!0;function je(){me.innerHTML="";const e=$?0:3,t=$?6:9;Ht.slice(e,t).forEach((n,o)=>{const r=document.createElement("li"),s=document.createElement("a"),i=document.createElement("img");i.srcset=`${n.img} 1x, ${n.img2x} 2x`,i.src=n.img,i.alt=n.title,i.classList.add("white-image"),s.href=n.url;const a=(e+o+1).toString().padStart(2,"0");r.textContent=`${a} `,s.appendChild(i),r.appendChild(s),me.appendChild(r)}),$=!$}Vt.addEventListener("click",je);je();const Fe=function(e){const t=[];let n=0;for(let o=0;o<e.length;o++){let r=e.charCodeAt(o);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&o+1<e.length&&(e.charCodeAt(o+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++o)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},Ut=function(e){const t=[];let n=0,o=0;for(;n<e.length;){const r=e[n++];if(r<128)t[o++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[o++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],i=e[n++],a=e[n++],c=((r&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536;t[o++]=String.fromCharCode(55296+(c>>10)),t[o++]=String.fromCharCode(56320+(c&1023))}else{const s=e[n++],i=e[n++];t[o++]=String.fromCharCode((r&15)<<12|(s&63)<<6|i&63)}}return t.join("")},He={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let r=0;r<e.length;r+=3){const s=e[r],i=r+1<e.length,a=i?e[r+1]:0,c=r+2<e.length,l=c?e[r+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let m=(a&15)<<2|l>>6,p=l&63;c||(p=64,i||(m=64)),o.push(n[u],n[h],n[m],n[p])}return o.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Fe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Ut(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;const l=r<e.length?n[e.charAt(r)]:64;++r;const h=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||a==null||l==null||h==null)throw new zt;const m=s<<2|a>>4;if(o.push(m),l!==64){const p=a<<4&240|l>>2;if(o.push(p),h!==64){const St=l<<6&192|h;o.push(St)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class zt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Wt=function(e){const t=Fe(e);return He.encodeByteArray(t,!0)},Ve=function(e){return Wt(e).replace(/\./g,"")},qt=function(e){try{return He.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Gt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof{}<"u")return{};throw new Error("Unable to locate {} object.")}const Kt=()=>Gt().__FIREBASE_DEFAULTS__,Yt=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Jt=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&qt(e[1]);return t&&JSON.parse(t)},Xt=()=>{try{return Kt()||Yt()||Jt()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Ue=()=>{var e;return(e=Xt())===null||e===void 0?void 0:e.config};class Zt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,o)=>{n?this.reject(n):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,o))}}}function Qt(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function ze(){try{return typeof indexedDB=="object"}catch{return!1}}function We(){return new Promise((e,t)=>{try{let n=!0;const o="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(o);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(o),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function en(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const tn="FirebaseError";class D extends Error{constructor(t,n,o){super(n),this.code=t,this.customData=o,this.name=tn,Object.setPrototypeOf(this,D.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N.prototype.create)}}class N{constructor(t,n,o){this.service=t,this.serviceName=n,this.errors=o}create(t,...n){const o=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],i=s?nn(s,o):"Error",a=`${this.serviceName}: ${i} (${r}).`;return new D(r,a,o)}}function nn(e,t){return e.replace(rn,(n,o)=>{const r=t[o];return r!=null?String(r):`<${o}?>`})}const rn=/\{\$([^}]+)}/g;function M(e,t){if(e===t)return!0;const n=Object.keys(e),o=Object.keys(t);for(const r of n){if(!o.includes(r))return!1;const s=e[r],i=t[r];if(be(s)&&be(i)){if(!M(s,i))return!1}else if(s!==i)return!1}for(const r of o)if(!n.includes(r))return!1;return!0}function be(e){return e!==null&&typeof e=="object"}const on=1e3,sn=2,an=4*60*60*1e3,cn=.5;function ye(e,t=on,n=sn){const o=t*Math.pow(n,e),r=Math.round(cn*o*(Math.random()-.5)*2);return Math.min(an,o+r)}function qe(e){return e&&e._delegate?e._delegate:e}class E{constructor(t,n,o){this.name=t,this.instanceFactory=n,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const v="[DEFAULT]";class ln{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const o=new Zt;if(this.instancesDeferred.set(n,o),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&o.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(un(t))try{this.getOrInitializeService({instanceIdentifier:v})}catch{}for(const[n,o]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});o.resolve(s)}catch{}}}}clearInstance(t=v){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=v){return this.instances.has(t)}getOptions(t=v){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:o,options:n});for(const[s,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);o===a&&i.resolve(r)}return r}onInit(t,n){var o;const r=this.normalizeInstanceIdentifier(n),s=(o=this.onInitCallbacks.get(r))!==null&&o!==void 0?o:new Set;s.add(t),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&t(i,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const o=this.onInitCallbacks.get(n);if(o)for(const r of o)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:dn(t),options:n}),this.instances.set(t,o),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=v){return this.component?this.component.multipleInstances?t:v:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dn(e){return e===v?void 0:e}function un(e){return e.instantiationMode==="EAGER"}class fn{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new ln(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var d;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(d||(d={}));const hn={debug:d.DEBUG,verbose:d.VERBOSE,info:d.INFO,warn:d.WARN,error:d.ERROR,silent:d.SILENT},pn=d.INFO,gn={[d.DEBUG]:"log",[d.VERBOSE]:"log",[d.INFO]:"info",[d.WARN]:"warn",[d.ERROR]:"error"},mn=(e,t,...n)=>{if(t<e.logLevel)return;const o=new Date().toISOString(),r=gn[t];if(r)console[r](`[${o}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ge{constructor(t){this.name=t,this._logLevel=pn,this._logHandler=mn,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in d))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?hn[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,d.DEBUG,...t),this._logHandler(this,d.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,d.VERBOSE,...t),this._logHandler(this,d.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,d.INFO,...t),this._logHandler(this,d.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,d.WARN,...t),this._logHandler(this,d.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,d.ERROR,...t),this._logHandler(this,d.ERROR,...t)}}const bn=(e,t)=>t.some(n=>e instanceof n);let we,Ie;function yn(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wn(){return Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ke=new WeakMap,Z=new WeakMap,Ye=new WeakMap,V=new WeakMap,le=new WeakMap;function In(e){const t=new Promise((n,o)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{n(b(e.result)),r()},i=()=>{o(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(n=>{n instanceof IDBCursor&&Ke.set(n,e)}).catch(()=>{}),le.set(t,e),t}function En(e){if(Z.has(e))return;const t=new Promise((n,o)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{n(),r()},i=()=>{o(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});Z.set(e,t)}let Q={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Z.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Ye.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return b(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function vn(e){Q=e(Q)}function Sn(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const o=e.call(U(this),t,...n);return Ye.set(o,t.sort?t.sort():[t]),b(o)}:wn().includes(e)?function(...t){return e.apply(U(this),t),b(Ke.get(this))}:function(...t){return b(e.apply(U(this),t))}}function _n(e){return typeof e=="function"?Sn(e):(e instanceof IDBTransaction&&En(e),bn(e,yn())?new Proxy(e,Q):e)}function b(e){if(e instanceof IDBRequest)return In(e);if(V.has(e))return V.get(e);const t=_n(e);return t!==e&&(V.set(e,t),le.set(t,e)),t}const U=e=>le.get(e);function Tn(e,t,{blocked:n,upgrade:o,blocking:r,terminated:s}={}){const i=indexedDB.open(e,t),a=b(i);return o&&i.addEventListener("upgradeneeded",c=>{o(b(i.result),c.oldVersion,c.newVersion,b(i.transaction),c)}),n&&i.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const An=["get","getKey","getAll","getAllKeys","count"],Cn=["put","add","delete","clear"],z=new Map;function Ee(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(z.get(t))return z.get(t);const n=t.replace(/FromIndex$/,""),o=t!==n,r=Cn.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(r||An.includes(n)))return;const s=async function(i,...a){const c=this.transaction(i,r?"readwrite":"readonly");let l=c.store;return o&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),r&&c.done]))[0]};return z.set(t,s),s}vn(e=>({...e,get:(t,n,o)=>Ee(t,n)||e.get(t,n,o),has:(t,n)=>!!Ee(t,n)||e.has(t,n)}));class Dn{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Bn(n)){const o=n.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(n=>n).join(" ")}}function Bn(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ee="@firebase/app",ve="0.9.20";const _=new Ge("@firebase/app"),kn="@firebase/app-compat",$n="@firebase/analytics-compat",On="@firebase/analytics",Mn="@firebase/app-check-compat",Rn="@firebase/app-check",Ln="@firebase/auth",xn="@firebase/auth-compat",Pn="@firebase/database",Nn="@firebase/database-compat",jn="@firebase/functions",Fn="@firebase/functions-compat",Hn="@firebase/installations",Vn="@firebase/installations-compat",Un="@firebase/messaging",zn="@firebase/messaging-compat",Wn="@firebase/performance",qn="@firebase/performance-compat",Gn="@firebase/remote-config",Kn="@firebase/remote-config-compat",Yn="@firebase/storage",Jn="@firebase/storage-compat",Xn="@firebase/firestore",Zn="@firebase/firestore-compat",Qn="firebase";const te="[DEFAULT]",er={[ee]:"fire-core",[kn]:"fire-core-compat",[On]:"fire-analytics",[$n]:"fire-analytics-compat",[Rn]:"fire-app-check",[Mn]:"fire-app-check-compat",[Ln]:"fire-auth",[xn]:"fire-auth-compat",[Pn]:"fire-rtdb",[Nn]:"fire-rtdb-compat",[jn]:"fire-fn",[Fn]:"fire-fn-compat",[Hn]:"fire-iid",[Vn]:"fire-iid-compat",[Un]:"fire-fcm",[zn]:"fire-fcm-compat",[Wn]:"fire-perf",[qn]:"fire-perf-compat",[Gn]:"fire-rc",[Kn]:"fire-rc-compat",[Yn]:"fire-gcs",[Jn]:"fire-gcs-compat",[Xn]:"fire-fst",[Zn]:"fire-fst-compat","fire-js":"fire-js",[Qn]:"fire-js-all"};const R=new Map,ne=new Map;function tr(e,t){try{e.container.addComponent(t)}catch(n){_.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function T(e){const t=e.name;if(ne.has(t))return _.debug(`There were multiple attempts to register component ${t}.`),!1;ne.set(t,e);for(const n of R.values())tr(n,e);return!0}function j(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const nr={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},y=new N("app","Firebase",nr);class rr{constructor(t,n,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new E("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw y.create("app-deleted",{appName:this._name})}}function Je(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const o=Object.assign({name:te,automaticDataCollectionEnabled:!1},t),r=o.name;if(typeof r!="string"||!r)throw y.create("bad-app-name",{appName:String(r)});if(n||(n=Ue()),!n)throw y.create("no-options");const s=R.get(r);if(s){if(M(n,s.options)&&M(o,s.config))return s;throw y.create("duplicate-app",{appName:r})}const i=new fn(r);for(const c of ne.values())i.addComponent(c);const a=new rr(n,o,i);return R.set(r,a),a}function or(e=te){const t=R.get(e);if(!t&&e===te&&Ue())return Je();if(!t)throw y.create("no-app",{appName:e});return t}function w(e,t,n){var o;let r=(o=er[e])!==null&&o!==void 0?o:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${t}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),_.warn(a.join(" "));return}T(new E(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const sr="firebase-heartbeat-database",ir=1,k="firebase-heartbeat-store";let W=null;function Xe(){return W||(W=Tn(sr,ir,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(k)}}}).catch(e=>{throw y.create("idb-open",{originalErrorMessage:e.message})})),W}async function ar(e){try{return await(await Xe()).transaction(k).objectStore(k).get(Ze(e))}catch(t){if(t instanceof D)_.warn(t.message);else{const n=y.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});_.warn(n.message)}}}async function Se(e,t){try{const o=(await Xe()).transaction(k,"readwrite");await o.objectStore(k).put(t,Ze(e)),await o.done}catch(n){if(n instanceof D)_.warn(n.message);else{const o=y.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_.warn(o.message)}}}function Ze(e){return`${e.name}!${e.options.appId}`}const cr=1024,lr=30*24*60*60*1e3;class dr{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fr(n),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=_e();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(r=>r.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const s=new Date(r.date).valueOf();return Date.now()-s<=lr}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=_e(),{heartbeatsToSend:n,unsentEntries:o}=ur(this._heartbeatsCache.heartbeats),r=Ve(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function _e(){return new Date().toISOString().substring(0,10)}function ur(e,t=cr){const n=[];let o=e.slice();for(const r of e){const s=n.find(i=>i.agent===r.agent);if(s){if(s.dates.push(r.date),Te(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Te(n)>t){n.pop();break}o=o.slice(1)}return{heartbeatsToSend:n,unsentEntries:o}}class fr{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ze()?We().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await ar(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Se(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Se(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Te(e){return Ve(JSON.stringify({version:2,heartbeats:e})).length}function hr(e){T(new E("platform-logger",t=>new Dn(t),"PRIVATE")),T(new E("heartbeat",t=>new dr(t),"PRIVATE")),w(ee,ve,e),w(ee,ve,"esm2017"),w("fire-js","")}hr("");var pr="firebase",gr="10.5.0";w(pr,gr,"app");const mr=(e,t)=>t.some(n=>e instanceof n);let Ae,Ce;function br(){return Ae||(Ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yr(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qe=new WeakMap,re=new WeakMap,et=new WeakMap,q=new WeakMap,de=new WeakMap;function wr(e){const t=new Promise((n,o)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{n(I(e.result)),r()},i=()=>{o(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(n=>{n instanceof IDBCursor&&Qe.set(n,e)}).catch(()=>{}),de.set(t,e),t}function Ir(e){if(re.has(e))return;const t=new Promise((n,o)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{n(),r()},i=()=>{o(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});re.set(e,t)}let oe={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return re.get(e);if(t==="objectStoreNames")return e.objectStoreNames||et.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return I(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Er(e){oe=e(oe)}function vr(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const o=e.call(G(this),t,...n);return et.set(o,t.sort?t.sort():[t]),I(o)}:yr().includes(e)?function(...t){return e.apply(G(this),t),I(Qe.get(this))}:function(...t){return I(e.apply(G(this),t))}}function Sr(e){return typeof e=="function"?vr(e):(e instanceof IDBTransaction&&Ir(e),mr(e,br())?new Proxy(e,oe):e)}function I(e){if(e instanceof IDBRequest)return wr(e);if(q.has(e))return q.get(e);const t=Sr(e);return t!==e&&(q.set(e,t),de.set(t,e)),t}const G=e=>de.get(e);function _r(e,t,{blocked:n,upgrade:o,blocking:r,terminated:s}={}){const i=indexedDB.open(e,t),a=I(i);return o&&i.addEventListener("upgradeneeded",c=>{o(I(i.result),c.oldVersion,c.newVersion,I(i.transaction))}),n&&i.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const Tr=["get","getKey","getAll","getAllKeys","count"],Ar=["put","add","delete","clear"],K=new Map;function De(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(K.get(t))return K.get(t);const n=t.replace(/FromIndex$/,""),o=t!==n,r=Ar.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(r||Tr.includes(n)))return;const s=async function(i,...a){const c=this.transaction(i,r?"readwrite":"readonly");let l=c.store;return o&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),r&&c.done]))[0]};return K.set(t,s),s}Er(e=>({...e,get:(t,n,o)=>De(t,n)||e.get(t,n,o),has:(t,n)=>!!De(t,n)||e.has(t,n)}));const tt="@firebase/installations",ue="0.6.4";const nt=1e4,rt=`w:${ue}`,ot="FIS_v2",Cr="https://firebaseinstallations.googleapis.com/v1",Dr=60*60*1e3,Br="installations",kr="Installations";const $r={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},A=new N(Br,kr,$r);function st(e){return e instanceof D&&e.code.includes("request-failed")}function it({projectId:e}){return`${Cr}/projects/${e}/installations`}function at(e){return{token:e.token,requestStatus:2,expiresIn:Mr(e.expiresIn),creationTime:Date.now()}}async function ct(e,t){const o=(await t.json()).error;return A.create("request-failed",{requestName:e,serverCode:o.code,serverMessage:o.message,serverStatus:o.status})}function lt({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Or(e,{refreshToken:t}){const n=lt(e);return n.append("Authorization",Rr(t)),n}async function dt(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Mr(e){return Number(e.replace("s","000"))}function Rr(e){return`${ot} ${e}`}async function Lr({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const o=it(e),r=lt(e),s=t.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const i={fid:n,authVersion:ot,appId:e.appId,sdkVersion:rt},a={method:"POST",headers:r,body:JSON.stringify(i)},c=await dt(()=>fetch(o,a));if(c.ok){const l=await c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:at(l.authToken)}}else throw await ct("Create Installation",c)}function ut(e){return new Promise(t=>{setTimeout(t,e)})}function xr(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}const Pr=/^[cdef][\w-]{21}$/,se="";function Nr(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=jr(e);return Pr.test(n)?n:se}catch{return se}}function jr(e){return xr(e).substr(0,22)}function F(e){return`${e.appName}!${e.appId}`}const ft=new Map;function ht(e,t){const n=F(e);pt(n,t),Fr(n,t)}function pt(e,t){const n=ft.get(e);if(n)for(const o of n)o(t)}function Fr(e,t){const n=Hr();n&&n.postMessage({key:e,fid:t}),Vr()}let S=null;function Hr(){return!S&&"BroadcastChannel"in self&&(S=new BroadcastChannel("[Firebase] FID Change"),S.onmessage=e=>{pt(e.data.key,e.data.fid)}),S}function Vr(){ft.size===0&&S&&(S.close(),S=null)}const Ur="firebase-installations-database",zr=1,C="firebase-installations-store";let Y=null;function fe(){return Y||(Y=_r(Ur,zr,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(C)}}})),Y}async function L(e,t){const n=F(e),r=(await fe()).transaction(C,"readwrite"),s=r.objectStore(C),i=await s.get(n);return await s.put(t,n),await r.done,(!i||i.fid!==t.fid)&&ht(e,t.fid),t}async function gt(e){const t=F(e),o=(await fe()).transaction(C,"readwrite");await o.objectStore(C).delete(t),await o.done}async function H(e,t){const n=F(e),r=(await fe()).transaction(C,"readwrite"),s=r.objectStore(C),i=await s.get(n),a=t(i);return a===void 0?await s.delete(n):await s.put(a,n),await r.done,a&&(!i||i.fid!==a.fid)&&ht(e,a.fid),a}async function he(e){let t;const n=await H(e.appConfig,o=>{const r=Wr(o),s=qr(e,r);return t=s.registrationPromise,s.installationEntry});return n.fid===se?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function Wr(e){const t=e||{fid:Nr(),registrationStatus:0};return mt(t)}function qr(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(A.create("app-offline"));return{installationEntry:t,registrationPromise:r}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},o=Gr(e,n);return{installationEntry:n,registrationPromise:o}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Kr(e)}:{installationEntry:t}}async function Gr(e,t){try{const n=await Lr(e,t);return L(e.appConfig,n)}catch(n){throw st(n)&&n.customData.serverCode===409?await gt(e.appConfig):await L(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function Kr(e){let t=await Be(e.appConfig);for(;t.registrationStatus===1;)await ut(100),t=await Be(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:o}=await he(e);return o||n}return t}function Be(e){return H(e,t=>{if(!t)throw A.create("installation-not-found");return mt(t)})}function mt(e){return Yr(e)?{fid:e.fid,registrationStatus:0}:e}function Yr(e){return e.registrationStatus===1&&e.registrationTime+nt<Date.now()}async function Jr({appConfig:e,heartbeatServiceProvider:t},n){const o=Xr(e,n),r=Or(e,n),s=t.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const i={installation:{sdkVersion:rt,appId:e.appId}},a={method:"POST",headers:r,body:JSON.stringify(i)},c=await dt(()=>fetch(o,a));if(c.ok){const l=await c.json();return at(l)}else throw await ct("Generate Auth Token",c)}function Xr(e,{fid:t}){return`${it(e)}/${t}/authTokens:generate`}async function pe(e,t=!1){let n;const o=await H(e.appConfig,s=>{if(!bt(s))throw A.create("not-registered");const i=s.authToken;if(!t&&eo(i))return s;if(i.requestStatus===1)return n=Zr(e,t),s;{if(!navigator.onLine)throw A.create("app-offline");const a=no(s);return n=Qr(e,a),a}});return n?await n:o.authToken}async function Zr(e,t){let n=await ke(e.appConfig);for(;n.authToken.requestStatus===1;)await ut(100),n=await ke(e.appConfig);const o=n.authToken;return o.requestStatus===0?pe(e,t):o}function ke(e){return H(e,t=>{if(!bt(t))throw A.create("not-registered");const n=t.authToken;return ro(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function Qr(e,t){try{const n=await Jr(e,t),o=Object.assign(Object.assign({},t),{authToken:n});return await L(e.appConfig,o),n}catch(n){if(st(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await gt(e.appConfig);else{const o=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await L(e.appConfig,o)}throw n}}function bt(e){return e!==void 0&&e.registrationStatus===2}function eo(e){return e.requestStatus===2&&!to(e)}function to(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Dr}function no(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function ro(e){return e.requestStatus===1&&e.requestTime+nt<Date.now()}async function oo(e){const t=e,{installationEntry:n,registrationPromise:o}=await he(t);return o?o.catch(console.error):pe(t).catch(console.error),n.fid}async function so(e,t=!1){const n=e;return await io(n),(await pe(n,t)).token}async function io(e){const{registrationPromise:t}=await he(e);t&&await t}function ao(e){if(!e||!e.options)throw J("App Configuration");if(!e.name)throw J("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw J(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function J(e){return A.create("missing-app-config-values",{valueName:e})}const yt="installations",co="installations-internal",lo=e=>{const t=e.getProvider("app").getImmediate(),n=ao(t),o=j(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:o,_delete:()=>Promise.resolve()}},uo=e=>{const t=e.getProvider("app").getImmediate(),n=j(t,yt).getImmediate();return{getId:()=>oo(n),getToken:r=>so(n,r)}};function fo(){T(new E(yt,lo,"PUBLIC")),T(new E(co,uo,"PRIVATE"))}fo();w(tt,ue);w(tt,ue,"esm2017");const x="analytics",ho="firebase_id",po="origin",go=60*1e3,mo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ge="https://www.googletagmanager.com/gtag/js";const f=new Ge("@firebase/analytics");const bo={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["no-client-id"]:'The "client_id" field is empty.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},g=new N("analytics","Analytics",bo);function yo(e){if(!e.startsWith(ge)){const t=g.create("invalid-gtag-resource",{gtagURL:e});return f.warn(t.message),""}return e}function wt(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function wo(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function Io(e,t){const n=wo("firebase-js-sdk-policy",{createScriptURL:yo}),o=document.createElement("script"),r=`${ge}?l=${e}&id=${t}`;o.src=n?n==null?void 0:n.createScriptURL(r):r,o.async=!0,document.head.appendChild(o)}function Eo(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function vo(e,t,n,o,r,s){const i=o[r];try{if(i)await t[i];else{const c=(await wt(n)).find(l=>l.measurementId===r);c&&await t[c.appId]}}catch(a){f.error(a)}e("config",r,s)}async function So(e,t,n,o,r){try{let s=[];if(r&&r.send_to){let i=r.send_to;Array.isArray(i)||(i=[i]);const a=await wt(n);for(const c of i){const l=a.find(h=>h.measurementId===c),u=l&&t[l.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),e("event",o,r||{})}catch(s){f.error(s)}}function _o(e,t,n,o){async function r(s,...i){try{if(s==="event"){const[a,c]=i;await So(e,t,n,a,c)}else if(s==="config"){const[a,c]=i;await vo(e,t,n,o,a,c)}else if(s==="consent"){const[a]=i;e("consent","update",a)}else if(s==="get"){const[a,c,l]=i;e("get",a,c,l)}else if(s==="set"){const[a]=i;e("set",a)}else e(s,...i)}catch(a){f.error(a)}}return r}function To(e,t,n,o,r){let s=function(...i){window[o].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=_o(s,e,t,n),{gtagCore:s,wrappedGtag:window[r]}}function Ao(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(ge)&&n.src.includes(e))return n;return null}const Co=30,Do=1e3;class Bo{constructor(t={},n=Do){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const It=new Bo;function ko(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function $o(e){var t;const{appId:n,apiKey:o}=e,r={method:"GET",headers:ko(o)},s=mo.replace("{app-id}",n),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const c=await i.json();!((t=c.error)===null||t===void 0)&&t.message&&(a=c.error.message)}catch{}throw g.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function Oo(e,t=It,n){const{appId:o,apiKey:r,measurementId:s}=e.options;if(!o)throw g.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:o};throw g.create("no-api-key")}const i=t.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Lo;return setTimeout(async()=>{a.abort()},n!==void 0?n:go),Et({appId:o,apiKey:r,measurementId:s},i,a,t)}async function Et(e,{throttleEndTimeMillis:t,backoffCount:n},o,r=It){var s;const{appId:i,measurementId:a}=e;try{await Mo(o,t)}catch(c){if(a)return f.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:a};throw c}try{const c=await $o(e);return r.deleteThrottleMetadata(i),c}catch(c){const l=c;if(!Ro(l)){if(r.deleteThrottleMetadata(i),a)return f.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:a};throw c}const u=Number((s=l==null?void 0:l.customData)===null||s===void 0?void 0:s.httpStatus)===503?ye(n,r.intervalMillis,Co):ye(n,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return r.setThrottleMetadata(i,h),f.debug(`Calling attemptFetch again in ${u} millis`),Et(e,h,o,r)}}function Mo(e,t){return new Promise((n,o)=>{const r=Math.max(t-Date.now(),0),s=setTimeout(n,r);e.addEventListener(()=>{clearTimeout(s),o(g.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Ro(e){if(!(e instanceof D)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class Lo{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function xo(e,t,n,o,r){if(r&&r.global){e("event",n,o);return}else{const s=await t,i=Object.assign(Object.assign({},o),{send_to:s});e("event",n,i)}}async function Po(){if(ze())try{await We()}catch(e){return f.warn(g.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return f.warn(g.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function No(e,t,n,o,r,s,i){var a;const c=Oo(e);c.then(p=>{n[p.measurementId]=p.appId,e.options.measurementId&&p.measurementId!==e.options.measurementId&&f.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>f.error(p)),t.push(c);const l=Po().then(p=>{if(p)return o.getId()}),[u,h]=await Promise.all([c,l]);Ao(s)||Io(s,u.measurementId),r("js",new Date);const m=(a=i==null?void 0:i.config)!==null&&a!==void 0?a:{};return m[po]="firebase",m.update=!0,h!=null&&(m[ho]=h),r("config",u.measurementId,m),u.measurementId}class jo{constructor(t){this.app=t}_delete(){return delete B[this.app.options.appId],Promise.resolve()}}let B={},$e=[];const Oe={};let X="dataLayer",Fo="gtag",Me,vt,Re=!1;function Ho(){const e=[];if(Qt()&&e.push("This is a browser extension environment."),en()||e.push("Cookies are not available."),e.length>0){const t=e.map((o,r)=>`(${r+1}) ${o}`).join(" "),n=g.create("invalid-analytics-context",{errorInfo:t});f.warn(n.message)}}function Vo(e,t,n){Ho();const o=e.options.appId;if(!o)throw g.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)f.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw g.create("no-api-key");if(B[o]!=null)throw g.create("already-exists",{id:o});if(!Re){Eo(X);const{wrappedGtag:s,gtagCore:i}=To(B,$e,Oe,X,Fo);vt=s,Me=i,Re=!0}return B[o]=No(e,$e,Oe,t,Me,X,n),new jo(e)}function Uo(e=or()){e=qe(e);const t=j(e,x);return t.isInitialized()?t.getImmediate():zo(e)}function zo(e,t={}){const n=j(e,x);if(n.isInitialized()){const r=n.getImmediate();if(M(t,n.getOptions()))return r;throw g.create("already-initialized")}return n.initialize({options:t})}function Wo(e,t,n,o){e=qe(e),xo(vt,B[e.app.options.appId],t,n,o).catch(r=>f.error(r))}const Le="@firebase/analytics",xe="0.10.0";function qo(){T(new E(x,(t,{options:n})=>{const o=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();return Vo(o,r,n)},"PUBLIC")),T(new E("analytics-internal",e,"PRIVATE")),w(Le,xe),w(Le,xe,"esm2017");function e(t){try{const n=t.getProvider(x).getImmediate();return{logEvent:(o,r,s)=>Wo(n,o,r,s)}}catch(n){throw g.create("interop-component-reg-failed",{reason:n})}}}qo();const Go={apiKey:"AIzaSyBh_gP2-PCBwVg50C_dx9X-7DONSJushXU",authDomain:"book-team-project-js-04.firebaseapp.com",projectId:"book-team-project-js-04",storageBucket:"book-team-project-js-04.appspot.com",messagingSenderId:"662639254549",appId:"1:662639254549:web:06bfb144698d9a8531821c",measurementId:"G-GT0HHT9VRW"},Ko=Je(Go),Yo=Uo(Ko);console.log(Yo);
