import"./shopping-list-edae7601.js";const P="https://books-backend.p.goit.global/",_t="books/category-list",Tt="books/top-books",At="books/category",Ct="books/";async function Dt(){return await(await axios.get(`${P}${_t}`)).data}async function Bt(){return await(await axios.get(`${P}${Tt}`)).data}function kt(e){return e.split(" ").join("%20")}async function $t(e){return await(await axios.get(`${P}${At}?category=${e}`)).data}async function Pe(e){return await(await axios.get(`${P}${Ct}${e}`)).data}const Ot="643282b1e85766588626a0dc";Pe(Ot).then(e=>console.log("bookId",e)).catch(e=>console.log(e));const O=document.querySelector(".categories-list");console.log(O);Dt().then(e=>{const t=e.map(({list_name:s})=>`<li class="list-categories-item">${s}</li>`).join("");console.log("html",t),O.insertAdjacentHTML("beforeend",t),console.log("getCategoryListArr",e);const n=O.firstChild,r=n.textContent.toUpperCase();n.textContent=r}).catch(e=>console.log("rej",e));O.addEventListener("click",Mt);function Mt(e){}const Rt="Mass Market Monthly",Ne=kt(Rt);console.log("categoryBookFetch",Ne);$t(Ne).then(e=>{console.log("Get book by category",e),Lt(e)}).catch(e=>console.log(e));function Lt(e){const t=document.querySelector(".list-books-by-category"),n=e.map(({book_image:o,title:r,author:s})=>`<li class="element-books-by-category"><img src="${o}" alt="${r} width="335px" height="485px"class="img-books-by-category" /><div class="title-container"><h3 class="name-books-by-category">${r}</h3><pclass="title-books-by-category">${s}</pclass=></div></li>`).join("");return t.innerHTML=n,n}document.querySelector(".modal");const xt=document.querySelector(".modal-open"),ie=document.querySelector(".js-backdrop"),Pt=document.querySelector(".close-btn-modal");document.querySelector(".marcup");document.querySelector(".add-books-backend");xt.addEventListener("click",Nt);ie.addEventListener("click",Ft);Pt.addEventListener("click",ae);window.addEventListener("keydown",ce);function Nt(){ie.classList.remove("is-hidden"),window.addEventListener("keydown",ce),Pe()}function ae(){ie.classList.add("is-hidden"),window.removeEventListener("keydown",ce)}function Ft(e){e.currentTarget===e.target&&ae()}function ce(e){e.code==="Escape"&&ae()}Bt().then(e=>{console.log("getTopBooksArr",e)}).catch(e=>console.log("rej",e));const jt=[{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:"./img/save-the-children.png",img2x:"./img/save-the-children-2x.png"},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:"./img/project-hope.png",img2x:"./img/project-hope-2x.png"},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:"./img/international-medical-corps.png",img2x:"./img/international-medical-corps-2x.png"},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:"./img/razom.png",img2x:"./img/razom-2x.png"},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:"./img/action-against-hunger.png",img2x:"./img/action-against-hunger-2x.png"},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:"./img/charity-foundation-sergiy-prytula.png",img2x:"./img/charity-foundation-sergiy-prytula-2x.png"},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:"./img/medecins-sans-frontieres.png",img2x:"./img/medecins-sans-frontieres-2x.png"},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:"./img/world-vision.png",img2x:"./img/world-vision-2x.png"},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:"./img/united24.png",img2x:"./img/united24-2x.png"}],me=document.querySelector(".list"),Ht=document.getElementById("toggleButton");let $=!0;function Fe(){me.innerHTML="";const e=$?0:3,t=$?6:9;jt.slice(e,t).forEach((n,o)=>{const r=document.createElement("li"),s=document.createElement("a"),i=document.createElement("img");i.srcset=`${n.img} 1x, ${n.img2x} 2x`,i.src=n.img,i.alt=n.title,i.classList.add("white-image"),s.href=n.url;const a=(e+o+1).toString().padStart(2,"0");r.textContent=`${a} `,s.appendChild(i),r.appendChild(s),me.appendChild(r)}),$=!$}Ht.addEventListener("click",Fe);Fe();const je=function(e){const t=[];let n=0;for(let o=0;o<e.length;o++){let r=e.charCodeAt(o);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&o+1<e.length&&(e.charCodeAt(o+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++o)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},Vt=function(e){const t=[];let n=0,o=0;for(;n<e.length;){const r=e[n++];if(r<128)t[o++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[o++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],i=e[n++],a=e[n++],c=((r&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536;t[o++]=String.fromCharCode(55296+(c>>10)),t[o++]=String.fromCharCode(56320+(c&1023))}else{const s=e[n++],i=e[n++];t[o++]=String.fromCharCode((r&15)<<12|(s&63)<<6|i&63)}}return t.join("")},He={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let r=0;r<e.length;r+=3){const s=e[r],i=r+1<e.length,a=i?e[r+1]:0,c=r+2<e.length,l=c?e[r+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let m=(a&15)<<2|l>>6,p=l&63;c||(p=64,i||(m=64)),o.push(n[u],n[h],n[m],n[p])}return o.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(je(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Vt(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;const l=r<e.length?n[e.charAt(r)]:64;++r;const h=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||a==null||l==null||h==null)throw new Ut;const m=s<<2|a>>4;if(o.push(m),l!==64){const p=a<<4&240|l>>2;if(o.push(p),h!==64){const St=l<<6&192|h;o.push(St)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ut extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zt=function(e){const t=je(e);return He.encodeByteArray(t,!0)},Ve=function(e){return zt(e).replace(/\./g,"")},Wt=function(e){try{return He.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function qt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof{}<"u")return{};throw new Error("Unable to locate {} object.")}const Gt=()=>qt().__FIREBASE_DEFAULTS__,Kt=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Yt=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Wt(e[1]);return t&&JSON.parse(t)},Jt=()=>{try{return Gt()||Kt()||Yt()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Ue=()=>{var e;return(e=Jt())===null||e===void 0?void 0:e.config};class Xt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,o)=>{n?this.reject(n):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,o))}}}function Zt(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function ze(){try{return typeof indexedDB=="object"}catch{return!1}}function We(){return new Promise((e,t)=>{try{let n=!0;const o="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(o);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(o),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function Qt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const en="FirebaseError";class D extends Error{constructor(t,n,o){super(n),this.code=t,this.customData=o,this.name=en,Object.setPrototypeOf(this,D.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N.prototype.create)}}class N{constructor(t,n,o){this.service=t,this.serviceName=n,this.errors=o}create(t,...n){const o=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],i=s?tn(s,o):"Error",a=`${this.serviceName}: ${i} (${r}).`;return new D(r,a,o)}}function tn(e,t){return e.replace(nn,(n,o)=>{const r=t[o];return r!=null?String(r):`<${o}?>`})}const nn=/\{\$([^}]+)}/g;function M(e,t){if(e===t)return!0;const n=Object.keys(e),o=Object.keys(t);for(const r of n){if(!o.includes(r))return!1;const s=e[r],i=t[r];if(be(s)&&be(i)){if(!M(s,i))return!1}else if(s!==i)return!1}for(const r of o)if(!n.includes(r))return!1;return!0}function be(e){return e!==null&&typeof e=="object"}const rn=1e3,on=2,sn=4*60*60*1e3,an=.5;function ye(e,t=rn,n=on){const o=t*Math.pow(n,e),r=Math.round(an*o*(Math.random()-.5)*2);return Math.min(sn,o+r)}function qe(e){return e&&e._delegate?e._delegate:e}class E{constructor(t,n,o){this.name=t,this.instanceFactory=n,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const v="[DEFAULT]";class cn{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const o=new Xt;if(this.instancesDeferred.set(n,o),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&o.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(dn(t))try{this.getOrInitializeService({instanceIdentifier:v})}catch{}for(const[n,o]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});o.resolve(s)}catch{}}}}clearInstance(t=v){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=v){return this.instances.has(t)}getOptions(t=v){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:o,options:n});for(const[s,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);o===a&&i.resolve(r)}return r}onInit(t,n){var o;const r=this.normalizeInstanceIdentifier(n),s=(o=this.onInitCallbacks.get(r))!==null&&o!==void 0?o:new Set;s.add(t),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&t(i,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const o=this.onInitCallbacks.get(n);if(o)for(const r of o)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:ln(t),options:n}),this.instances.set(t,o),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=v){return this.component?this.component.multipleInstances?t:v:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ln(e){return e===v?void 0:e}function dn(e){return e.instantiationMode==="EAGER"}class un{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new cn(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var d;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(d||(d={}));const fn={debug:d.DEBUG,verbose:d.VERBOSE,info:d.INFO,warn:d.WARN,error:d.ERROR,silent:d.SILENT},hn=d.INFO,pn={[d.DEBUG]:"log",[d.VERBOSE]:"log",[d.INFO]:"info",[d.WARN]:"warn",[d.ERROR]:"error"},gn=(e,t,...n)=>{if(t<e.logLevel)return;const o=new Date().toISOString(),r=pn[t];if(r)console[r](`[${o}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ge{constructor(t){this.name=t,this._logLevel=hn,this._logHandler=gn,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in d))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fn[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,d.DEBUG,...t),this._logHandler(this,d.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,d.VERBOSE,...t),this._logHandler(this,d.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,d.INFO,...t),this._logHandler(this,d.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,d.WARN,...t),this._logHandler(this,d.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,d.ERROR,...t),this._logHandler(this,d.ERROR,...t)}}const mn=(e,t)=>t.some(n=>e instanceof n);let we,Ie;function bn(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yn(){return Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ke=new WeakMap,Z=new WeakMap,Ye=new WeakMap,V=new WeakMap,le=new WeakMap;function wn(e){const t=new Promise((n,o)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{n(b(e.result)),r()},i=()=>{o(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(n=>{n instanceof IDBCursor&&Ke.set(n,e)}).catch(()=>{}),le.set(t,e),t}function In(e){if(Z.has(e))return;const t=new Promise((n,o)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{n(),r()},i=()=>{o(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});Z.set(e,t)}let Q={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Z.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Ye.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return b(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function En(e){Q=e(Q)}function vn(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const o=e.call(U(this),t,...n);return Ye.set(o,t.sort?t.sort():[t]),b(o)}:yn().includes(e)?function(...t){return e.apply(U(this),t),b(Ke.get(this))}:function(...t){return b(e.apply(U(this),t))}}function Sn(e){return typeof e=="function"?vn(e):(e instanceof IDBTransaction&&In(e),mn(e,bn())?new Proxy(e,Q):e)}function b(e){if(e instanceof IDBRequest)return wn(e);if(V.has(e))return V.get(e);const t=Sn(e);return t!==e&&(V.set(e,t),le.set(t,e)),t}const U=e=>le.get(e);function _n(e,t,{blocked:n,upgrade:o,blocking:r,terminated:s}={}){const i=indexedDB.open(e,t),a=b(i);return o&&i.addEventListener("upgradeneeded",c=>{o(b(i.result),c.oldVersion,c.newVersion,b(i.transaction),c)}),n&&i.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const Tn=["get","getKey","getAll","getAllKeys","count"],An=["put","add","delete","clear"],z=new Map;function Ee(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(z.get(t))return z.get(t);const n=t.replace(/FromIndex$/,""),o=t!==n,r=An.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(r||Tn.includes(n)))return;const s=async function(i,...a){const c=this.transaction(i,r?"readwrite":"readonly");let l=c.store;return o&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),r&&c.done]))[0]};return z.set(t,s),s}En(e=>({...e,get:(t,n,o)=>Ee(t,n)||e.get(t,n,o),has:(t,n)=>!!Ee(t,n)||e.has(t,n)}));class Cn{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Dn(n)){const o=n.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(n=>n).join(" ")}}function Dn(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ee="@firebase/app",ve="0.9.20";const _=new Ge("@firebase/app"),Bn="@firebase/app-compat",kn="@firebase/analytics-compat",$n="@firebase/analytics",On="@firebase/app-check-compat",Mn="@firebase/app-check",Rn="@firebase/auth",Ln="@firebase/auth-compat",xn="@firebase/database",Pn="@firebase/database-compat",Nn="@firebase/functions",Fn="@firebase/functions-compat",jn="@firebase/installations",Hn="@firebase/installations-compat",Vn="@firebase/messaging",Un="@firebase/messaging-compat",zn="@firebase/performance",Wn="@firebase/performance-compat",qn="@firebase/remote-config",Gn="@firebase/remote-config-compat",Kn="@firebase/storage",Yn="@firebase/storage-compat",Jn="@firebase/firestore",Xn="@firebase/firestore-compat",Zn="firebase";const te="[DEFAULT]",Qn={[ee]:"fire-core",[Bn]:"fire-core-compat",[$n]:"fire-analytics",[kn]:"fire-analytics-compat",[Mn]:"fire-app-check",[On]:"fire-app-check-compat",[Rn]:"fire-auth",[Ln]:"fire-auth-compat",[xn]:"fire-rtdb",[Pn]:"fire-rtdb-compat",[Nn]:"fire-fn",[Fn]:"fire-fn-compat",[jn]:"fire-iid",[Hn]:"fire-iid-compat",[Vn]:"fire-fcm",[Un]:"fire-fcm-compat",[zn]:"fire-perf",[Wn]:"fire-perf-compat",[qn]:"fire-rc",[Gn]:"fire-rc-compat",[Kn]:"fire-gcs",[Yn]:"fire-gcs-compat",[Jn]:"fire-fst",[Xn]:"fire-fst-compat","fire-js":"fire-js",[Zn]:"fire-js-all"};const R=new Map,ne=new Map;function er(e,t){try{e.container.addComponent(t)}catch(n){_.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function T(e){const t=e.name;if(ne.has(t))return _.debug(`There were multiple attempts to register component ${t}.`),!1;ne.set(t,e);for(const n of R.values())er(n,e);return!0}function F(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const tr={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},y=new N("app","Firebase",tr);class nr{constructor(t,n,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new E("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw y.create("app-deleted",{appName:this._name})}}function Je(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const o=Object.assign({name:te,automaticDataCollectionEnabled:!1},t),r=o.name;if(typeof r!="string"||!r)throw y.create("bad-app-name",{appName:String(r)});if(n||(n=Ue()),!n)throw y.create("no-options");const s=R.get(r);if(s){if(M(n,s.options)&&M(o,s.config))return s;throw y.create("duplicate-app",{appName:r})}const i=new un(r);for(const c of ne.values())i.addComponent(c);const a=new nr(n,o,i);return R.set(r,a),a}function rr(e=te){const t=R.get(e);if(!t&&e===te&&Ue())return Je();if(!t)throw y.create("no-app",{appName:e});return t}function w(e,t,n){var o;let r=(o=Qn[e])!==null&&o!==void 0?o:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${t}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),_.warn(a.join(" "));return}T(new E(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const or="firebase-heartbeat-database",sr=1,k="firebase-heartbeat-store";let W=null;function Xe(){return W||(W=_n(or,sr,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(k)}}}).catch(e=>{throw y.create("idb-open",{originalErrorMessage:e.message})})),W}async function ir(e){try{return await(await Xe()).transaction(k).objectStore(k).get(Ze(e))}catch(t){if(t instanceof D)_.warn(t.message);else{const n=y.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});_.warn(n.message)}}}async function Se(e,t){try{const o=(await Xe()).transaction(k,"readwrite");await o.objectStore(k).put(t,Ze(e)),await o.done}catch(n){if(n instanceof D)_.warn(n.message);else{const o=y.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_.warn(o.message)}}}function Ze(e){return`${e.name}!${e.options.appId}`}const ar=1024,cr=30*24*60*60*1e3;class lr{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ur(n),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=_e();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(r=>r.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const s=new Date(r.date).valueOf();return Date.now()-s<=cr}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=_e(),{heartbeatsToSend:n,unsentEntries:o}=dr(this._heartbeatsCache.heartbeats),r=Ve(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function _e(){return new Date().toISOString().substring(0,10)}function dr(e,t=ar){const n=[];let o=e.slice();for(const r of e){const s=n.find(i=>i.agent===r.agent);if(s){if(s.dates.push(r.date),Te(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Te(n)>t){n.pop();break}o=o.slice(1)}return{heartbeatsToSend:n,unsentEntries:o}}class ur{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ze()?We().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await ir(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Se(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Se(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Te(e){return Ve(JSON.stringify({version:2,heartbeats:e})).length}function fr(e){T(new E("platform-logger",t=>new Cn(t),"PRIVATE")),T(new E("heartbeat",t=>new lr(t),"PRIVATE")),w(ee,ve,e),w(ee,ve,"esm2017"),w("fire-js","")}fr("");var hr="firebase",pr="10.5.0";w(hr,pr,"app");const gr=(e,t)=>t.some(n=>e instanceof n);let Ae,Ce;function mr(){return Ae||(Ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function br(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qe=new WeakMap,re=new WeakMap,et=new WeakMap,q=new WeakMap,de=new WeakMap;function yr(e){const t=new Promise((n,o)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{n(I(e.result)),r()},i=()=>{o(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(n=>{n instanceof IDBCursor&&Qe.set(n,e)}).catch(()=>{}),de.set(t,e),t}function wr(e){if(re.has(e))return;const t=new Promise((n,o)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{n(),r()},i=()=>{o(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});re.set(e,t)}let oe={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return re.get(e);if(t==="objectStoreNames")return e.objectStoreNames||et.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return I(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Ir(e){oe=e(oe)}function Er(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const o=e.call(G(this),t,...n);return et.set(o,t.sort?t.sort():[t]),I(o)}:br().includes(e)?function(...t){return e.apply(G(this),t),I(Qe.get(this))}:function(...t){return I(e.apply(G(this),t))}}function vr(e){return typeof e=="function"?Er(e):(e instanceof IDBTransaction&&wr(e),gr(e,mr())?new Proxy(e,oe):e)}function I(e){if(e instanceof IDBRequest)return yr(e);if(q.has(e))return q.get(e);const t=vr(e);return t!==e&&(q.set(e,t),de.set(t,e)),t}const G=e=>de.get(e);function Sr(e,t,{blocked:n,upgrade:o,blocking:r,terminated:s}={}){const i=indexedDB.open(e,t),a=I(i);return o&&i.addEventListener("upgradeneeded",c=>{o(I(i.result),c.oldVersion,c.newVersion,I(i.transaction))}),n&&i.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const _r=["get","getKey","getAll","getAllKeys","count"],Tr=["put","add","delete","clear"],K=new Map;function De(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(K.get(t))return K.get(t);const n=t.replace(/FromIndex$/,""),o=t!==n,r=Tr.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(r||_r.includes(n)))return;const s=async function(i,...a){const c=this.transaction(i,r?"readwrite":"readonly");let l=c.store;return o&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),r&&c.done]))[0]};return K.set(t,s),s}Ir(e=>({...e,get:(t,n,o)=>De(t,n)||e.get(t,n,o),has:(t,n)=>!!De(t,n)||e.has(t,n)}));const tt="@firebase/installations",ue="0.6.4";const nt=1e4,rt=`w:${ue}`,ot="FIS_v2",Ar="https://firebaseinstallations.googleapis.com/v1",Cr=60*60*1e3,Dr="installations",Br="Installations";const kr={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},A=new N(Dr,Br,kr);function st(e){return e instanceof D&&e.code.includes("request-failed")}function it({projectId:e}){return`${Ar}/projects/${e}/installations`}function at(e){return{token:e.token,requestStatus:2,expiresIn:Or(e.expiresIn),creationTime:Date.now()}}async function ct(e,t){const o=(await t.json()).error;return A.create("request-failed",{requestName:e,serverCode:o.code,serverMessage:o.message,serverStatus:o.status})}function lt({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function $r(e,{refreshToken:t}){const n=lt(e);return n.append("Authorization",Mr(t)),n}async function dt(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Or(e){return Number(e.replace("s","000"))}function Mr(e){return`${ot} ${e}`}async function Rr({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const o=it(e),r=lt(e),s=t.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const i={fid:n,authVersion:ot,appId:e.appId,sdkVersion:rt},a={method:"POST",headers:r,body:JSON.stringify(i)},c=await dt(()=>fetch(o,a));if(c.ok){const l=await c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:at(l.authToken)}}else throw await ct("Create Installation",c)}function ut(e){return new Promise(t=>{setTimeout(t,e)})}function Lr(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}const xr=/^[cdef][\w-]{21}$/,se="";function Pr(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=Nr(e);return xr.test(n)?n:se}catch{return se}}function Nr(e){return Lr(e).substr(0,22)}function j(e){return`${e.appName}!${e.appId}`}const ft=new Map;function ht(e,t){const n=j(e);pt(n,t),Fr(n,t)}function pt(e,t){const n=ft.get(e);if(n)for(const o of n)o(t)}function Fr(e,t){const n=jr();n&&n.postMessage({key:e,fid:t}),Hr()}let S=null;function jr(){return!S&&"BroadcastChannel"in self&&(S=new BroadcastChannel("[Firebase] FID Change"),S.onmessage=e=>{pt(e.data.key,e.data.fid)}),S}function Hr(){ft.size===0&&S&&(S.close(),S=null)}const Vr="firebase-installations-database",Ur=1,C="firebase-installations-store";let Y=null;function fe(){return Y||(Y=Sr(Vr,Ur,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(C)}}})),Y}async function L(e,t){const n=j(e),r=(await fe()).transaction(C,"readwrite"),s=r.objectStore(C),i=await s.get(n);return await s.put(t,n),await r.done,(!i||i.fid!==t.fid)&&ht(e,t.fid),t}async function gt(e){const t=j(e),o=(await fe()).transaction(C,"readwrite");await o.objectStore(C).delete(t),await o.done}async function H(e,t){const n=j(e),r=(await fe()).transaction(C,"readwrite"),s=r.objectStore(C),i=await s.get(n),a=t(i);return a===void 0?await s.delete(n):await s.put(a,n),await r.done,a&&(!i||i.fid!==a.fid)&&ht(e,a.fid),a}async function he(e){let t;const n=await H(e.appConfig,o=>{const r=zr(o),s=Wr(e,r);return t=s.registrationPromise,s.installationEntry});return n.fid===se?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function zr(e){const t=e||{fid:Pr(),registrationStatus:0};return mt(t)}function Wr(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(A.create("app-offline"));return{installationEntry:t,registrationPromise:r}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},o=qr(e,n);return{installationEntry:n,registrationPromise:o}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Gr(e)}:{installationEntry:t}}async function qr(e,t){try{const n=await Rr(e,t);return L(e.appConfig,n)}catch(n){throw st(n)&&n.customData.serverCode===409?await gt(e.appConfig):await L(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function Gr(e){let t=await Be(e.appConfig);for(;t.registrationStatus===1;)await ut(100),t=await Be(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:o}=await he(e);return o||n}return t}function Be(e){return H(e,t=>{if(!t)throw A.create("installation-not-found");return mt(t)})}function mt(e){return Kr(e)?{fid:e.fid,registrationStatus:0}:e}function Kr(e){return e.registrationStatus===1&&e.registrationTime+nt<Date.now()}async function Yr({appConfig:e,heartbeatServiceProvider:t},n){const o=Jr(e,n),r=$r(e,n),s=t.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const i={installation:{sdkVersion:rt,appId:e.appId}},a={method:"POST",headers:r,body:JSON.stringify(i)},c=await dt(()=>fetch(o,a));if(c.ok){const l=await c.json();return at(l)}else throw await ct("Generate Auth Token",c)}function Jr(e,{fid:t}){return`${it(e)}/${t}/authTokens:generate`}async function pe(e,t=!1){let n;const o=await H(e.appConfig,s=>{if(!bt(s))throw A.create("not-registered");const i=s.authToken;if(!t&&Qr(i))return s;if(i.requestStatus===1)return n=Xr(e,t),s;{if(!navigator.onLine)throw A.create("app-offline");const a=to(s);return n=Zr(e,a),a}});return n?await n:o.authToken}async function Xr(e,t){let n=await ke(e.appConfig);for(;n.authToken.requestStatus===1;)await ut(100),n=await ke(e.appConfig);const o=n.authToken;return o.requestStatus===0?pe(e,t):o}function ke(e){return H(e,t=>{if(!bt(t))throw A.create("not-registered");const n=t.authToken;return no(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function Zr(e,t){try{const n=await Yr(e,t),o=Object.assign(Object.assign({},t),{authToken:n});return await L(e.appConfig,o),n}catch(n){if(st(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await gt(e.appConfig);else{const o=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await L(e.appConfig,o)}throw n}}function bt(e){return e!==void 0&&e.registrationStatus===2}function Qr(e){return e.requestStatus===2&&!eo(e)}function eo(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Cr}function to(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function no(e){return e.requestStatus===1&&e.requestTime+nt<Date.now()}async function ro(e){const t=e,{installationEntry:n,registrationPromise:o}=await he(t);return o?o.catch(console.error):pe(t).catch(console.error),n.fid}async function oo(e,t=!1){const n=e;return await so(n),(await pe(n,t)).token}async function so(e){const{registrationPromise:t}=await he(e);t&&await t}function io(e){if(!e||!e.options)throw J("App Configuration");if(!e.name)throw J("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw J(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function J(e){return A.create("missing-app-config-values",{valueName:e})}const yt="installations",ao="installations-internal",co=e=>{const t=e.getProvider("app").getImmediate(),n=io(t),o=F(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:o,_delete:()=>Promise.resolve()}},lo=e=>{const t=e.getProvider("app").getImmediate(),n=F(t,yt).getImmediate();return{getId:()=>ro(n),getToken:r=>oo(n,r)}};function uo(){T(new E(yt,co,"PUBLIC")),T(new E(ao,lo,"PRIVATE"))}uo();w(tt,ue);w(tt,ue,"esm2017");const x="analytics",fo="firebase_id",ho="origin",po=60*1e3,go="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ge="https://www.googletagmanager.com/gtag/js";const f=new Ge("@firebase/analytics");const mo={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["no-client-id"]:'The "client_id" field is empty.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},g=new N("analytics","Analytics",mo);function bo(e){if(!e.startsWith(ge)){const t=g.create("invalid-gtag-resource",{gtagURL:e});return f.warn(t.message),""}return e}function wt(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function yo(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function wo(e,t){const n=yo("firebase-js-sdk-policy",{createScriptURL:bo}),o=document.createElement("script"),r=`${ge}?l=${e}&id=${t}`;o.src=n?n==null?void 0:n.createScriptURL(r):r,o.async=!0,document.head.appendChild(o)}function Io(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function Eo(e,t,n,o,r,s){const i=o[r];try{if(i)await t[i];else{const c=(await wt(n)).find(l=>l.measurementId===r);c&&await t[c.appId]}}catch(a){f.error(a)}e("config",r,s)}async function vo(e,t,n,o,r){try{let s=[];if(r&&r.send_to){let i=r.send_to;Array.isArray(i)||(i=[i]);const a=await wt(n);for(const c of i){const l=a.find(h=>h.measurementId===c),u=l&&t[l.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),e("event",o,r||{})}catch(s){f.error(s)}}function So(e,t,n,o){async function r(s,...i){try{if(s==="event"){const[a,c]=i;await vo(e,t,n,a,c)}else if(s==="config"){const[a,c]=i;await Eo(e,t,n,o,a,c)}else if(s==="consent"){const[a]=i;e("consent","update",a)}else if(s==="get"){const[a,c,l]=i;e("get",a,c,l)}else if(s==="set"){const[a]=i;e("set",a)}else e(s,...i)}catch(a){f.error(a)}}return r}function _o(e,t,n,o,r){let s=function(...i){window[o].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=So(s,e,t,n),{gtagCore:s,wrappedGtag:window[r]}}function To(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(ge)&&n.src.includes(e))return n;return null}const Ao=30,Co=1e3;class Do{constructor(t={},n=Co){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const It=new Do;function Bo(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function ko(e){var t;const{appId:n,apiKey:o}=e,r={method:"GET",headers:Bo(o)},s=go.replace("{app-id}",n),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const c=await i.json();!((t=c.error)===null||t===void 0)&&t.message&&(a=c.error.message)}catch{}throw g.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function $o(e,t=It,n){const{appId:o,apiKey:r,measurementId:s}=e.options;if(!o)throw g.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:o};throw g.create("no-api-key")}const i=t.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Ro;return setTimeout(async()=>{a.abort()},n!==void 0?n:po),Et({appId:o,apiKey:r,measurementId:s},i,a,t)}async function Et(e,{throttleEndTimeMillis:t,backoffCount:n},o,r=It){var s;const{appId:i,measurementId:a}=e;try{await Oo(o,t)}catch(c){if(a)return f.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:a};throw c}try{const c=await ko(e);return r.deleteThrottleMetadata(i),c}catch(c){const l=c;if(!Mo(l)){if(r.deleteThrottleMetadata(i),a)return f.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:a};throw c}const u=Number((s=l==null?void 0:l.customData)===null||s===void 0?void 0:s.httpStatus)===503?ye(n,r.intervalMillis,Ao):ye(n,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return r.setThrottleMetadata(i,h),f.debug(`Calling attemptFetch again in ${u} millis`),Et(e,h,o,r)}}function Oo(e,t){return new Promise((n,o)=>{const r=Math.max(t-Date.now(),0),s=setTimeout(n,r);e.addEventListener(()=>{clearTimeout(s),o(g.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Mo(e){if(!(e instanceof D)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class Ro{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function Lo(e,t,n,o,r){if(r&&r.global){e("event",n,o);return}else{const s=await t,i=Object.assign(Object.assign({},o),{send_to:s});e("event",n,i)}}async function xo(){if(ze())try{await We()}catch(e){return f.warn(g.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return f.warn(g.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Po(e,t,n,o,r,s,i){var a;const c=$o(e);c.then(p=>{n[p.measurementId]=p.appId,e.options.measurementId&&p.measurementId!==e.options.measurementId&&f.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>f.error(p)),t.push(c);const l=xo().then(p=>{if(p)return o.getId()}),[u,h]=await Promise.all([c,l]);To(s)||wo(s,u.measurementId),r("js",new Date);const m=(a=i==null?void 0:i.config)!==null&&a!==void 0?a:{};return m[ho]="firebase",m.update=!0,h!=null&&(m[fo]=h),r("config",u.measurementId,m),u.measurementId}class No{constructor(t){this.app=t}_delete(){return delete B[this.app.options.appId],Promise.resolve()}}let B={},$e=[];const Oe={};let X="dataLayer",Fo="gtag",Me,vt,Re=!1;function jo(){const e=[];if(Zt()&&e.push("This is a browser extension environment."),Qt()||e.push("Cookies are not available."),e.length>0){const t=e.map((o,r)=>`(${r+1}) ${o}`).join(" "),n=g.create("invalid-analytics-context",{errorInfo:t});f.warn(n.message)}}function Ho(e,t,n){jo();const o=e.options.appId;if(!o)throw g.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)f.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw g.create("no-api-key");if(B[o]!=null)throw g.create("already-exists",{id:o});if(!Re){Io(X);const{wrappedGtag:s,gtagCore:i}=_o(B,$e,Oe,X,Fo);vt=s,Me=i,Re=!0}return B[o]=Po(e,$e,Oe,t,Me,X,n),new No(e)}function Vo(e=rr()){e=qe(e);const t=F(e,x);return t.isInitialized()?t.getImmediate():Uo(e)}function Uo(e,t={}){const n=F(e,x);if(n.isInitialized()){const r=n.getImmediate();if(M(t,n.getOptions()))return r;throw g.create("already-initialized")}return n.initialize({options:t})}function zo(e,t,n,o){e=qe(e),Lo(vt,B[e.app.options.appId],t,n,o).catch(r=>f.error(r))}const Le="@firebase/analytics",xe="0.10.0";function Wo(){T(new E(x,(t,{options:n})=>{const o=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();return Ho(o,r,n)},"PUBLIC")),T(new E("analytics-internal",e,"PRIVATE")),w(Le,xe),w(Le,xe,"esm2017");function e(t){try{const n=t.getProvider(x).getImmediate();return{logEvent:(o,r,s)=>zo(n,o,r,s)}}catch(n){throw g.create("interop-component-reg-failed",{reason:n})}}}Wo();const qo={apiKey:"AIzaSyBh_gP2-PCBwVg50C_dx9X-7DONSJushXU",authDomain:"book-team-project-js-04.firebaseapp.com",projectId:"book-team-project-js-04",storageBucket:"book-team-project-js-04.appspot.com",messagingSenderId:"662639254549",appId:"1:662639254549:web:06bfb144698d9a8531821c",measurementId:"G-GT0HHT9VRW"},Go=Je(qo),Ko=Vo(Go);console.log(Ko);
