(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();const N="https://books-backend.p.goit.global/",Ot="books/category-list",$t="books/top-books",Lt="books/category",Mt="books/";async function Ft(){return await(await axios.get(`${N}${Ot}`)).data}async function Rt(){return await(await axios.get(`${N}${$t}`)).data}function xt(e){return e.split(" ").join("%20")}async function Pt(e){return await(await axios.get(`${N}${Lt}?category=${e}`)).data}async function Nt(e){return await(await axios.get(`${N}${Mt}${e}`)).data}const M=document.querySelector(".categories-list");console.log(M);Ft().then(e=>{const t=e.map(({list_name:s})=>`<li class="list-categories-item">${s}</li>`).join("");console.log("html",t),M.insertAdjacentHTML("beforeend",t),console.log("getCategoryListArr",e);const n=M.firstChild,r=n.textContent.toUpperCase();n.textContent=r}).catch(e=>console.log("rej",e));M.addEventListener("click",jt);function jt(e){}const Ht=document.querySelector(".container-books-by-category");Ht.addEventListener("click",Vt);function Vt(e){if(!e.target.classList.contains("js-target"))return;const t=e.target.dataset.bookId??e.target.closest("li").dataset.bookId;console.log("Get BOOK ID ======",t)}const te="Hardcover Fiction",Ee=document.querySelector(".title-category"),Ut=xt(te);Pt(Ut).then(e=>{console.log("Get book by category",e),zt(e)}).catch(e=>console.log(e));function zt(e){const t=document.querySelector(".list-books-by-category"),n=e.map(({book_image:o,title:r,author:s,_id:a})=>`<li data-book-id='${a}' class="element-books-by-category js-target">
      <img src="${o}" alt="${r}" class="img-books-by-category js-target" />
      <div class="title-container js-target">
      <h3 class="name-books-by-category js-target">${r}</h3>
      <p class="title-books-by-category js-target">${s}</p>
      </div>
      </li>`).join("");return t.innerHTML=n,Ee.textContent=te,Wt(Ee,te),n}function Wt(e,t){const n=t.split(" ");n[n.length-1];let o="";n.forEach(r=>{o!==""&&(o+=" "),r===n[n.length-1]?o+=`<span class="title-category-part">${r}</span>`:o+=r}),e.innerHTML=o}const ue=document.querySelector(".js-backdrop"),qt=document.querySelector(".close-btn-modal"),ze=document.querySelector(".btn-add-local"),B=document.querySelector(".add-local"),O=document.querySelector(".remove-local"),_e=document.querySelector(".text-modal"),ne="user-books",Gt=[{_id:"643282b1e85766588626a089",list_name:"Mass Market Monthly",date:"2023-04-09T09:28:38.379Z",age_group:"",amazon_product_url:"https://www.amazon.com/dp/153875309X?tag=NYTBSREV-20",article_chapter_link:"",author:"James Patterson and J.D. Barker",book_image:"https://storage.googleapis.com/du-prd/books/images/9781538753095.jpg",book_image_width:334,book_image_height:500,book_review_link:"",book_uri:"nyt://book/a1dd2b46-cced-51b1-95d3-db0410a0efb8",contributor:"by James Patterson and J.D. Barker",contributor_note:"",created_date:"2023-04-05 23:10:15",description:"Detective Walter O'Brien is obsessed with an escape artist who bludgeoned her kidnapper and avoided police custody.",first_chapter_link:"",price:"0.00",primary_isbn10:"1538753081",primary_isbn13:"9781538753088",publisher:"Grand Central",rank:1,rank_last_week:0,sunday_review_link:"",title:"DEATH OF THE BLACK WIDOW",updated_date:"2023-04-05 23:10:15",weeks_on_list:0,buy_links:[{name:"Amazon",url:"https://www.amazon.com/dp/153875309X?tag=NYTBSREV-20"},{name:"Apple Books",url:"https://goto.applebooks.apple/9781538753088?at=10lIEQ"},{name:"Barnes and Noble",url:"https://www.anrdoezrs.net/click-7990613-11819508?url=https%3A%2F%2Fwww.barnesandnoble.com%2Fw%2F%3Fean%3D9781538753088"},{name:"Books-A-Million",url:"https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fp%252FDEATH%252BOF%252BTHE%252BBLACK%252BWIDOW%252FJames%252BPatterson%252Band%252BJ.D.%252BBarker%252F9781538753088&url2=https%3A%2F%2Fwww.anrdoezrs.net%2Fclick-7990613-35140%3Furl%3Dhttps%253A%252F%252Fwww.booksamillion.com%252Fsearch%253Fquery%253DDEATH%252BOF%252BTHE%252BBLACK%252BWIDOW%252BJames%252BPatterson%252Band%252BJ.D.%252BBarker"},{name:"Bookshop",url:"https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fbookshop.org%2Fa%2F3546%2F9781538753088&url2=https%3A%2F%2Fbookshop.org%2Fbooks%3Faffiliate%3D3546%26keywords%3DDEATH%2BOF%2BTHE%2BBLACK%2BWIDOW"},{name:"IndieBound",url:"https://du-gae-books-dot-nyt-du-prd.appspot.com/redirect?url1=https%3A%2F%2Fwww.indiebound.org%2Fbook%2F9781538753088%3Faff%3DNYT&url2=https%3A%2F%2Fwww.indiebound.org%2Fsearch%2Fbook%3Fkeys%3DDEATH%2BOF%2BTHE%2BBLACK%2BWIDOW%2BJames%2BPatterson%2Band%2BJ.D.%2BBarker%26aff%3DNYT"}],__v:0}],Kt=document.querySelector(".add-books-backend");ue.addEventListener("click",Jt);qt.addEventListener("click",fe);window.addEventListener("keydown",he);function fe(){ue.classList.add("is-hidden"),window.removeEventListener("keydown",he)}function Jt(e){e.currentTarget===e.target&&fe()}function he(e){e.code==="Escape"&&fe()}const Yt=document.querySelector(".list-books-by-category");document.querySelector(".container-best-books");Yt.addEventListener("click",Xt);function Xt(e){if(ue.classList.remove("is-hidden"),window.addEventListener("keydown",he),!e.target.classList.contains("js-target"))return;const t=e.target.dataset.bookId??e.target.closest("li").dataset.bookId;console.log("Get BOOK ID ======",t),Nt(t).then(n=>{let o=n.book_image,r=n.title,s=n.description,a=n.author;Kt.innerHTML=Zt(o,r,s,a),console.log(n)}).catch(n=>console.log(n))}function Zt(e,t,n,o){return`
  <div class="backend-box">
  <img class="img-book" src="${e}" alt="${t}" />
  <div>
 <h2 class="title-book">${t}</h2>
 <h4 class="author-book">${o}</h4>
 <p class="descr-book">${n}</p>
 </div>
 </div>`}ze.addEventListener("click",tn);const Qt=localStorage.getItem(ne),en=JSON.parse(Qt);en?(B.hidden=!0,O.hidden=!1):(B.hidden=!1,O.hidden=!0);function tn(e){if(console.log("qwe",e.target),!e.target.classList.contains("js-btn-local"))return;B.textContent&&(localStorage.setItem(ne,JSON.stringify(Gt)),B.hidden=!0,O.hidden=!1,_e.hidden=!1),ze.addEventListener("click",n);function n(){O.textContent&&(localStorage.removeItem(ne),B.hidden=!1,O.hidden=!0,_e.hidden=!0)}}Rt().then(e=>{console.log("getTopBooksArr",e)}).catch(e=>console.log("rej",e));document.querySelector(".shop-list-list");document.querySelector(".shop-list-placeholder");const nn=[{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:"./img/save-the-children.png",img2x:"./img/save-the-children-2x.png"},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:"./img/project-hope.png",img2x:"./img/project-hope-2x.png"},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:"./img/international-medical-corps.png",img2x:"./img/international-medical-corps-2x.png"},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:"./img/razom.png",img2x:"./img/razom-2x.png"},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:"./img/action-against-hunger.png",img2x:"./img/action-against-hunger-2x.png"},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:"./img/charity-foundation-sergiy-prytula.png",img2x:"./img/charity-foundation-sergiy-prytula-2x.png"},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:"./img/medecins-sans-frontieres.png",img2x:"./img/medecins-sans-frontieres-2x.png"},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:"./img/world-vision.png",img2x:"./img/world-vision-2x.png"},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:"./img/united24.png",img2x:"./img/united24-2x.png"}],ve=document.querySelector(".list"),We=document.getElementById("toggleButton"),rn=We.querySelector("svg use");let C=!0,z=0;function qe(){ve.innerHTML="";const e=C?0:3,t=C?6:9;nn.slice(e,t).forEach((n,o)=>{const r=document.createElement("li"),s=document.createElement("a"),a=document.createElement("span"),i=(e+o+1).toString().padStart(2,"0");a.textContent=i;const c=document.createElement("img");c.srcset=`${n.img} 1x, ${n.img2x} 2x`,c.src=n.img,c.alt=n.title,c.classList.add("white-image"),s.href=n.url,a.classList.add("number"),s.appendChild(c),r.appendChild(a),r.appendChild(s),ve.appendChild(r),z===0?r.classList.add("animate__animated","animate__bounceInDown"):r.classList.add("animate__animated","animate__bounceInUp")}),C=!C,z=1-z,rn.setAttribute("href",C?"./img/icon.svg#icon-support-ukr-scroll-up":"./img/icon.svg#icon-support-ukr-scroll-down")}We.addEventListener("click",qe);qe();const Ge=function(e){const t=[];let n=0;for(let o=0;o<e.length;o++){let r=e.charCodeAt(o);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&o+1<e.length&&(e.charCodeAt(o+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++o)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},on=function(e){const t=[];let n=0,o=0;for(;n<e.length;){const r=e[n++];if(r<128)t[o++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[o++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],a=e[n++],i=e[n++],c=((r&7)<<18|(s&63)<<12|(a&63)<<6|i&63)-65536;t[o++]=String.fromCharCode(55296+(c>>10)),t[o++]=String.fromCharCode(56320+(c&1023))}else{const s=e[n++],a=e[n++];t[o++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return t.join("")},Ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let r=0;r<e.length;r+=3){const s=e[r],a=r+1<e.length,i=a?e[r+1]:0,c=r+2<e.length,l=c?e[r+2]:0,u=s>>2,h=(s&3)<<4|i>>4;let m=(i&15)<<2|l>>6,p=l&63;c||(p=64,a||(m=64)),o.push(n[u],n[h],n[m],n[p])}return o.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ge(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):on(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],i=r<e.length?n[e.charAt(r)]:0;++r;const l=r<e.length?n[e.charAt(r)]:64;++r;const h=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||i==null||l==null||h==null)throw new sn;const m=s<<2|i>>4;if(o.push(m),l!==64){const p=i<<4&240|l>>2;if(o.push(p),h!==64){const Bt=l<<6&192|h;o.push(Bt)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class sn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const an=function(e){const t=Ge(e);return Ke.encodeByteArray(t,!0)},Je=function(e){return an(e).replace(/\./g,"")},cn=function(e){try{return Ke.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ln(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof{}<"u")return{};throw new Error("Unable to locate {} object.")}const dn=()=>ln().__FIREBASE_DEFAULTS__,un=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},fn=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&cn(e[1]);return t&&JSON.parse(t)},hn=()=>{try{return dn()||un()||fn()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Ye=()=>{var e;return(e=hn())===null||e===void 0?void 0:e.config};class pn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,o)=>{n?this.reject(n):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,o))}}}function gn(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Xe(){try{return typeof indexedDB=="object"}catch{return!1}}function Ze(){return new Promise((e,t)=>{try{let n=!0;const o="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(o);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(o),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function mn(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const bn="FirebaseError";class k extends Error{constructor(t,n,o){super(n),this.code=t,this.customData=o,this.name=bn,Object.setPrototypeOf(this,k.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,j.prototype.create)}}class j{constructor(t,n,o){this.service=t,this.serviceName=n,this.errors=o}create(t,...n){const o=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?yn(s,o):"Error",i=`${this.serviceName}: ${a} (${r}).`;return new k(r,i,o)}}function yn(e,t){return e.replace(wn,(n,o)=>{const r=t[o];return r!=null?String(r):`<${o}?>`})}const wn=/\{\$([^}]+)}/g;function F(e,t){if(e===t)return!0;const n=Object.keys(e),o=Object.keys(t);for(const r of n){if(!o.includes(r))return!1;const s=e[r],a=t[r];if(Ae(s)&&Ae(a)){if(!F(s,a))return!1}else if(s!==a)return!1}for(const r of o)if(!n.includes(r))return!1;return!0}function Ae(e){return e!==null&&typeof e=="object"}const In=1e3,En=2,_n=4*60*60*1e3,vn=.5;function Se(e,t=In,n=En){const o=t*Math.pow(n,e),r=Math.round(vn*o*(Math.random()-.5)*2);return Math.min(_n,o+r)}function Qe(e){return e&&e._delegate?e._delegate:e}class E{constructor(t,n,o){this.name=t,this.instanceFactory=n,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const _="[DEFAULT]";class An{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const o=new pn;if(this.instancesDeferred.set(n,o),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&o.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Tn(t))try{this.getOrInitializeService({instanceIdentifier:_})}catch{}for(const[n,o]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});o.resolve(s)}catch{}}}}clearInstance(t=_){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=_){return this.instances.has(t)}getOptions(t=_){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:o,options:n});for(const[s,a]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(s);o===i&&a.resolve(r)}return r}onInit(t,n){var o;const r=this.normalizeInstanceIdentifier(n),s=(o=this.onInitCallbacks.get(r))!==null&&o!==void 0?o:new Set;s.add(t),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&t(a,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const o=this.onInitCallbacks.get(n);if(o)for(const r of o)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:Sn(t),options:n}),this.instances.set(t,o),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=_){return this.component?this.component.multipleInstances?t:_:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sn(e){return e===_?void 0:e}function Tn(e){return e.instantiationMode==="EAGER"}class Dn{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new An(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var d;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(d||(d={}));const kn={debug:d.DEBUG,verbose:d.VERBOSE,info:d.INFO,warn:d.WARN,error:d.ERROR,silent:d.SILENT},Cn=d.INFO,Bn={[d.DEBUG]:"log",[d.VERBOSE]:"log",[d.INFO]:"info",[d.WARN]:"warn",[d.ERROR]:"error"},On=(e,t,...n)=>{if(t<e.logLevel)return;const o=new Date().toISOString(),r=Bn[t];if(r)console[r](`[${o}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class et{constructor(t){this.name=t,this._logLevel=Cn,this._logHandler=On,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in d))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?kn[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,d.DEBUG,...t),this._logHandler(this,d.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,d.VERBOSE,...t),this._logHandler(this,d.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,d.INFO,...t),this._logHandler(this,d.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,d.WARN,...t),this._logHandler(this,d.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,d.ERROR,...t),this._logHandler(this,d.ERROR,...t)}}const $n=(e,t)=>t.some(n=>e instanceof n);let Te,De;function Ln(){return Te||(Te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mn(){return De||(De=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tt=new WeakMap,re=new WeakMap,nt=new WeakMap,W=new WeakMap,pe=new WeakMap;function Fn(e){const t=new Promise((n,o)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(b(e.result)),r()},a=()=>{o(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&tt.set(n,e)}).catch(()=>{}),pe.set(t,e),t}function Rn(e){if(re.has(e))return;const t=new Promise((n,o)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{o(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});re.set(e,t)}let oe={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return re.get(e);if(t==="objectStoreNames")return e.objectStoreNames||nt.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return b(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function xn(e){oe=e(oe)}function Pn(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const o=e.call(q(this),t,...n);return nt.set(o,t.sort?t.sort():[t]),b(o)}:Mn().includes(e)?function(...t){return e.apply(q(this),t),b(tt.get(this))}:function(...t){return b(e.apply(q(this),t))}}function Nn(e){return typeof e=="function"?Pn(e):(e instanceof IDBTransaction&&Rn(e),$n(e,Ln())?new Proxy(e,oe):e)}function b(e){if(e instanceof IDBRequest)return Fn(e);if(W.has(e))return W.get(e);const t=Nn(e);return t!==e&&(W.set(e,t),pe.set(t,e)),t}const q=e=>pe.get(e);function jn(e,t,{blocked:n,upgrade:o,blocking:r,terminated:s}={}){const a=indexedDB.open(e,t),i=b(a);return o&&a.addEventListener("upgradeneeded",c=>{o(b(a.result),c.oldVersion,c.newVersion,b(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),i.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),i}const Hn=["get","getKey","getAll","getAllKeys","count"],Vn=["put","add","delete","clear"],G=new Map;function ke(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(G.get(t))return G.get(t);const n=t.replace(/FromIndex$/,""),o=t!==n,r=Vn.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(r||Hn.includes(n)))return;const s=async function(a,...i){const c=this.transaction(a,r?"readwrite":"readonly");let l=c.store;return o&&(l=l.index(i.shift())),(await Promise.all([l[n](...i),r&&c.done]))[0]};return G.set(t,s),s}xn(e=>({...e,get:(t,n,o)=>ke(t,n)||e.get(t,n,o),has:(t,n)=>!!ke(t,n)||e.has(t,n)}));class Un{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zn(n)){const o=n.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(n=>n).join(" ")}}function zn(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const se="@firebase/app",Ce="0.9.20";const A=new et("@firebase/app"),Wn="@firebase/app-compat",qn="@firebase/analytics-compat",Gn="@firebase/analytics",Kn="@firebase/app-check-compat",Jn="@firebase/app-check",Yn="@firebase/auth",Xn="@firebase/auth-compat",Zn="@firebase/database",Qn="@firebase/database-compat",er="@firebase/functions",tr="@firebase/functions-compat",nr="@firebase/installations",rr="@firebase/installations-compat",or="@firebase/messaging",sr="@firebase/messaging-compat",ar="@firebase/performance",ir="@firebase/performance-compat",cr="@firebase/remote-config",lr="@firebase/remote-config-compat",dr="@firebase/storage",ur="@firebase/storage-compat",fr="@firebase/firestore",hr="@firebase/firestore-compat",pr="firebase";const ae="[DEFAULT]",gr={[se]:"fire-core",[Wn]:"fire-core-compat",[Gn]:"fire-analytics",[qn]:"fire-analytics-compat",[Jn]:"fire-app-check",[Kn]:"fire-app-check-compat",[Yn]:"fire-auth",[Xn]:"fire-auth-compat",[Zn]:"fire-rtdb",[Qn]:"fire-rtdb-compat",[er]:"fire-fn",[tr]:"fire-fn-compat",[nr]:"fire-iid",[rr]:"fire-iid-compat",[or]:"fire-fcm",[sr]:"fire-fcm-compat",[ar]:"fire-perf",[ir]:"fire-perf-compat",[cr]:"fire-rc",[lr]:"fire-rc-compat",[dr]:"fire-gcs",[ur]:"fire-gcs-compat",[fr]:"fire-fst",[hr]:"fire-fst-compat","fire-js":"fire-js",[pr]:"fire-js-all"};const R=new Map,ie=new Map;function mr(e,t){try{e.container.addComponent(t)}catch(n){A.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function S(e){const t=e.name;if(ie.has(t))return A.debug(`There were multiple attempts to register component ${t}.`),!1;ie.set(t,e);for(const n of R.values())mr(n,e);return!0}function H(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const br={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},y=new j("app","Firebase",br);class yr{constructor(t,n,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new E("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw y.create("app-deleted",{appName:this._name})}}function rt(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const o=Object.assign({name:ae,automaticDataCollectionEnabled:!1},t),r=o.name;if(typeof r!="string"||!r)throw y.create("bad-app-name",{appName:String(r)});if(n||(n=Ye()),!n)throw y.create("no-options");const s=R.get(r);if(s){if(F(n,s.options)&&F(o,s.config))return s;throw y.create("duplicate-app",{appName:r})}const a=new Dn(r);for(const c of ie.values())a.addComponent(c);const i=new yr(n,o,a);return R.set(r,i),i}function wr(e=ae){const t=R.get(e);if(!t&&e===ae&&Ye())return rt();if(!t)throw y.create("no-app",{appName:e});return t}function w(e,t,n){var o;let r=(o=gr[e])!==null&&o!==void 0?o:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const i=[`Unable to register library "${r}" with version "${t}":`];s&&i.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&i.push("and"),a&&i.push(`version name "${t}" contains illegal characters (whitespace or "/")`),A.warn(i.join(" "));return}S(new E(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const Ir="firebase-heartbeat-database",Er=1,L="firebase-heartbeat-store";let K=null;function ot(){return K||(K=jn(Ir,Er,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(L)}}}).catch(e=>{throw y.create("idb-open",{originalErrorMessage:e.message})})),K}async function _r(e){try{return await(await ot()).transaction(L).objectStore(L).get(st(e))}catch(t){if(t instanceof k)A.warn(t.message);else{const n=y.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});A.warn(n.message)}}}async function Be(e,t){try{const o=(await ot()).transaction(L,"readwrite");await o.objectStore(L).put(t,st(e)),await o.done}catch(n){if(n instanceof k)A.warn(n.message);else{const o=y.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});A.warn(o.message)}}}function st(e){return`${e.name}!${e.options.appId}`}const vr=1024,Ar=30*24*60*60*1e3;class Sr{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Dr(n),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Oe();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(r=>r.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const s=new Date(r.date).valueOf();return Date.now()-s<=Ar}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Oe(),{heartbeatsToSend:n,unsentEntries:o}=Tr(this._heartbeatsCache.heartbeats),r=Je(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Oe(){return new Date().toISOString().substring(0,10)}function Tr(e,t=vr){const n=[];let o=e.slice();for(const r of e){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),$e(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),$e(n)>t){n.pop();break}o=o.slice(1)}return{heartbeatsToSend:n,unsentEntries:o}}class Dr{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xe()?Ze().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await _r(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Be(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Be(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function $e(e){return Je(JSON.stringify({version:2,heartbeats:e})).length}function kr(e){S(new E("platform-logger",t=>new Un(t),"PRIVATE")),S(new E("heartbeat",t=>new Sr(t),"PRIVATE")),w(se,Ce,e),w(se,Ce,"esm2017"),w("fire-js","")}kr("");var Cr="firebase",Br="10.5.0";w(Cr,Br,"app");const Or=(e,t)=>t.some(n=>e instanceof n);let Le,Me;function $r(){return Le||(Le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lr(){return Me||(Me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const at=new WeakMap,ce=new WeakMap,it=new WeakMap,J=new WeakMap,ge=new WeakMap;function Mr(e){const t=new Promise((n,o)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(I(e.result)),r()},a=()=>{o(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&at.set(n,e)}).catch(()=>{}),ge.set(t,e),t}function Fr(e){if(ce.has(e))return;const t=new Promise((n,o)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{o(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});ce.set(e,t)}let le={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return ce.get(e);if(t==="objectStoreNames")return e.objectStoreNames||it.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return I(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Rr(e){le=e(le)}function xr(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const o=e.call(Y(this),t,...n);return it.set(o,t.sort?t.sort():[t]),I(o)}:Lr().includes(e)?function(...t){return e.apply(Y(this),t),I(at.get(this))}:function(...t){return I(e.apply(Y(this),t))}}function Pr(e){return typeof e=="function"?xr(e):(e instanceof IDBTransaction&&Fr(e),Or(e,$r())?new Proxy(e,le):e)}function I(e){if(e instanceof IDBRequest)return Mr(e);if(J.has(e))return J.get(e);const t=Pr(e);return t!==e&&(J.set(e,t),ge.set(t,e)),t}const Y=e=>ge.get(e);function Nr(e,t,{blocked:n,upgrade:o,blocking:r,terminated:s}={}){const a=indexedDB.open(e,t),i=I(a);return o&&a.addEventListener("upgradeneeded",c=>{o(I(a.result),c.oldVersion,c.newVersion,I(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),i.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),i}const jr=["get","getKey","getAll","getAllKeys","count"],Hr=["put","add","delete","clear"],X=new Map;function Fe(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(X.get(t))return X.get(t);const n=t.replace(/FromIndex$/,""),o=t!==n,r=Hr.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(r||jr.includes(n)))return;const s=async function(a,...i){const c=this.transaction(a,r?"readwrite":"readonly");let l=c.store;return o&&(l=l.index(i.shift())),(await Promise.all([l[n](...i),r&&c.done]))[0]};return X.set(t,s),s}Rr(e=>({...e,get:(t,n,o)=>Fe(t,n)||e.get(t,n,o),has:(t,n)=>!!Fe(t,n)||e.has(t,n)}));const ct="@firebase/installations",me="0.6.4";const lt=1e4,dt=`w:${me}`,ut="FIS_v2",Vr="https://firebaseinstallations.googleapis.com/v1",Ur=60*60*1e3,zr="installations",Wr="Installations";const qr={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},T=new j(zr,Wr,qr);function ft(e){return e instanceof k&&e.code.includes("request-failed")}function ht({projectId:e}){return`${Vr}/projects/${e}/installations`}function pt(e){return{token:e.token,requestStatus:2,expiresIn:Kr(e.expiresIn),creationTime:Date.now()}}async function gt(e,t){const o=(await t.json()).error;return T.create("request-failed",{requestName:e,serverCode:o.code,serverMessage:o.message,serverStatus:o.status})}function mt({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Gr(e,{refreshToken:t}){const n=mt(e);return n.append("Authorization",Jr(t)),n}async function bt(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Kr(e){return Number(e.replace("s","000"))}function Jr(e){return`${ut} ${e}`}async function Yr({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const o=ht(e),r=mt(e),s=t.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const a={fid:n,authVersion:ut,appId:e.appId,sdkVersion:dt},i={method:"POST",headers:r,body:JSON.stringify(a)},c=await bt(()=>fetch(o,i));if(c.ok){const l=await c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:pt(l.authToken)}}else throw await gt("Create Installation",c)}function yt(e){return new Promise(t=>{setTimeout(t,e)})}function Xr(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}const Zr=/^[cdef][\w-]{21}$/,de="";function Qr(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=eo(e);return Zr.test(n)?n:de}catch{return de}}function eo(e){return Xr(e).substr(0,22)}function V(e){return`${e.appName}!${e.appId}`}const wt=new Map;function It(e,t){const n=V(e);Et(n,t),to(n,t)}function Et(e,t){const n=wt.get(e);if(n)for(const o of n)o(t)}function to(e,t){const n=no();n&&n.postMessage({key:e,fid:t}),ro()}let v=null;function no(){return!v&&"BroadcastChannel"in self&&(v=new BroadcastChannel("[Firebase] FID Change"),v.onmessage=e=>{Et(e.data.key,e.data.fid)}),v}function ro(){wt.size===0&&v&&(v.close(),v=null)}const oo="firebase-installations-database",so=1,D="firebase-installations-store";let Z=null;function be(){return Z||(Z=Nr(oo,so,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(D)}}})),Z}async function x(e,t){const n=V(e),r=(await be()).transaction(D,"readwrite"),s=r.objectStore(D),a=await s.get(n);return await s.put(t,n),await r.done,(!a||a.fid!==t.fid)&&It(e,t.fid),t}async function _t(e){const t=V(e),o=(await be()).transaction(D,"readwrite");await o.objectStore(D).delete(t),await o.done}async function U(e,t){const n=V(e),r=(await be()).transaction(D,"readwrite"),s=r.objectStore(D),a=await s.get(n),i=t(a);return i===void 0?await s.delete(n):await s.put(i,n),await r.done,i&&(!a||a.fid!==i.fid)&&It(e,i.fid),i}async function ye(e){let t;const n=await U(e.appConfig,o=>{const r=ao(o),s=io(e,r);return t=s.registrationPromise,s.installationEntry});return n.fid===de?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function ao(e){const t=e||{fid:Qr(),registrationStatus:0};return vt(t)}function io(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(T.create("app-offline"));return{installationEntry:t,registrationPromise:r}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},o=co(e,n);return{installationEntry:n,registrationPromise:o}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:lo(e)}:{installationEntry:t}}async function co(e,t){try{const n=await Yr(e,t);return x(e.appConfig,n)}catch(n){throw ft(n)&&n.customData.serverCode===409?await _t(e.appConfig):await x(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function lo(e){let t=await Re(e.appConfig);for(;t.registrationStatus===1;)await yt(100),t=await Re(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:o}=await ye(e);return o||n}return t}function Re(e){return U(e,t=>{if(!t)throw T.create("installation-not-found");return vt(t)})}function vt(e){return uo(e)?{fid:e.fid,registrationStatus:0}:e}function uo(e){return e.registrationStatus===1&&e.registrationTime+lt<Date.now()}async function fo({appConfig:e,heartbeatServiceProvider:t},n){const o=ho(e,n),r=Gr(e,n),s=t.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const a={installation:{sdkVersion:dt,appId:e.appId}},i={method:"POST",headers:r,body:JSON.stringify(a)},c=await bt(()=>fetch(o,i));if(c.ok){const l=await c.json();return pt(l)}else throw await gt("Generate Auth Token",c)}function ho(e,{fid:t}){return`${ht(e)}/${t}/authTokens:generate`}async function we(e,t=!1){let n;const o=await U(e.appConfig,s=>{if(!At(s))throw T.create("not-registered");const a=s.authToken;if(!t&&mo(a))return s;if(a.requestStatus===1)return n=po(e,t),s;{if(!navigator.onLine)throw T.create("app-offline");const i=yo(s);return n=go(e,i),i}});return n?await n:o.authToken}async function po(e,t){let n=await xe(e.appConfig);for(;n.authToken.requestStatus===1;)await yt(100),n=await xe(e.appConfig);const o=n.authToken;return o.requestStatus===0?we(e,t):o}function xe(e){return U(e,t=>{if(!At(t))throw T.create("not-registered");const n=t.authToken;return wo(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function go(e,t){try{const n=await fo(e,t),o=Object.assign(Object.assign({},t),{authToken:n});return await x(e.appConfig,o),n}catch(n){if(ft(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await _t(e.appConfig);else{const o=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await x(e.appConfig,o)}throw n}}function At(e){return e!==void 0&&e.registrationStatus===2}function mo(e){return e.requestStatus===2&&!bo(e)}function bo(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Ur}function yo(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function wo(e){return e.requestStatus===1&&e.requestTime+lt<Date.now()}async function Io(e){const t=e,{installationEntry:n,registrationPromise:o}=await ye(t);return o?o.catch(console.error):we(t).catch(console.error),n.fid}async function Eo(e,t=!1){const n=e;return await _o(n),(await we(n,t)).token}async function _o(e){const{registrationPromise:t}=await ye(e);t&&await t}function vo(e){if(!e||!e.options)throw Q("App Configuration");if(!e.name)throw Q("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Q(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Q(e){return T.create("missing-app-config-values",{valueName:e})}const St="installations",Ao="installations-internal",So=e=>{const t=e.getProvider("app").getImmediate(),n=vo(t),o=H(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:o,_delete:()=>Promise.resolve()}},To=e=>{const t=e.getProvider("app").getImmediate(),n=H(t,St).getImmediate();return{getId:()=>Io(n),getToken:r=>Eo(n,r)}};function Do(){S(new E(St,So,"PUBLIC")),S(new E(Ao,To,"PRIVATE"))}Do();w(ct,me);w(ct,me,"esm2017");const P="analytics",ko="firebase_id",Co="origin",Bo=60*1e3,Oo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ie="https://www.googletagmanager.com/gtag/js";const f=new et("@firebase/analytics");const $o={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["no-client-id"]:'The "client_id" field is empty.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},g=new j("analytics","Analytics",$o);function Lo(e){if(!e.startsWith(Ie)){const t=g.create("invalid-gtag-resource",{gtagURL:e});return f.warn(t.message),""}return e}function Tt(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function Mo(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function Fo(e,t){const n=Mo("firebase-js-sdk-policy",{createScriptURL:Lo}),o=document.createElement("script"),r=`${Ie}?l=${e}&id=${t}`;o.src=n?n==null?void 0:n.createScriptURL(r):r,o.async=!0,document.head.appendChild(o)}function Ro(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function xo(e,t,n,o,r,s){const a=o[r];try{if(a)await t[a];else{const c=(await Tt(n)).find(l=>l.measurementId===r);c&&await t[c.appId]}}catch(i){f.error(i)}e("config",r,s)}async function Po(e,t,n,o,r){try{let s=[];if(r&&r.send_to){let a=r.send_to;Array.isArray(a)||(a=[a]);const i=await Tt(n);for(const c of a){const l=i.find(h=>h.measurementId===c),u=l&&t[l.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),e("event",o,r||{})}catch(s){f.error(s)}}function No(e,t,n,o){async function r(s,...a){try{if(s==="event"){const[i,c]=a;await Po(e,t,n,i,c)}else if(s==="config"){const[i,c]=a;await xo(e,t,n,o,i,c)}else if(s==="consent"){const[i]=a;e("consent","update",i)}else if(s==="get"){const[i,c,l]=a;e("get",i,c,l)}else if(s==="set"){const[i]=a;e("set",i)}else e(s,...a)}catch(i){f.error(i)}}return r}function jo(e,t,n,o,r){let s=function(...a){window[o].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=No(s,e,t,n),{gtagCore:s,wrappedGtag:window[r]}}function Ho(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Ie)&&n.src.includes(e))return n;return null}const Vo=30,Uo=1e3;class zo{constructor(t={},n=Uo){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const Dt=new zo;function Wo(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function qo(e){var t;const{appId:n,apiKey:o}=e,r={method:"GET",headers:Wo(o)},s=Oo.replace("{app-id}",n),a=await fetch(s,r);if(a.status!==200&&a.status!==304){let i="";try{const c=await a.json();!((t=c.error)===null||t===void 0)&&t.message&&(i=c.error.message)}catch{}throw g.create("config-fetch-failed",{httpStatus:a.status,responseMessage:i})}return a.json()}async function Go(e,t=Dt,n){const{appId:o,apiKey:r,measurementId:s}=e.options;if(!o)throw g.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:o};throw g.create("no-api-key")}const a=t.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},i=new Yo;return setTimeout(async()=>{i.abort()},n!==void 0?n:Bo),kt({appId:o,apiKey:r,measurementId:s},a,i,t)}async function kt(e,{throttleEndTimeMillis:t,backoffCount:n},o,r=Dt){var s;const{appId:a,measurementId:i}=e;try{await Ko(o,t)}catch(c){if(i)return f.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${i} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:i};throw c}try{const c=await qo(e);return r.deleteThrottleMetadata(a),c}catch(c){const l=c;if(!Jo(l)){if(r.deleteThrottleMetadata(a),i)return f.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${i} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:i};throw c}const u=Number((s=l==null?void 0:l.customData)===null||s===void 0?void 0:s.httpStatus)===503?Se(n,r.intervalMillis,Vo):Se(n,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return r.setThrottleMetadata(a,h),f.debug(`Calling attemptFetch again in ${u} millis`),kt(e,h,o,r)}}function Ko(e,t){return new Promise((n,o)=>{const r=Math.max(t-Date.now(),0),s=setTimeout(n,r);e.addEventListener(()=>{clearTimeout(s),o(g.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Jo(e){if(!(e instanceof k)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class Yo{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function Xo(e,t,n,o,r){if(r&&r.global){e("event",n,o);return}else{const s=await t,a=Object.assign(Object.assign({},o),{send_to:s});e("event",n,a)}}async function Zo(){if(Xe())try{await Ze()}catch(e){return f.warn(g.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return f.warn(g.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Qo(e,t,n,o,r,s,a){var i;const c=Go(e);c.then(p=>{n[p.measurementId]=p.appId,e.options.measurementId&&p.measurementId!==e.options.measurementId&&f.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>f.error(p)),t.push(c);const l=Zo().then(p=>{if(p)return o.getId()}),[u,h]=await Promise.all([c,l]);Ho(s)||Fo(s,u.measurementId),r("js",new Date);const m=(i=a==null?void 0:a.config)!==null&&i!==void 0?i:{};return m[Co]="firebase",m.update=!0,h!=null&&(m[ko]=h),r("config",u.measurementId,m),u.measurementId}class es{constructor(t){this.app=t}_delete(){return delete $[this.app.options.appId],Promise.resolve()}}let $={},Pe=[];const Ne={};let ee="dataLayer",ts="gtag",je,Ct,He=!1;function ns(){const e=[];if(gn()&&e.push("This is a browser extension environment."),mn()||e.push("Cookies are not available."),e.length>0){const t=e.map((o,r)=>`(${r+1}) ${o}`).join(" "),n=g.create("invalid-analytics-context",{errorInfo:t});f.warn(n.message)}}function rs(e,t,n){ns();const o=e.options.appId;if(!o)throw g.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)f.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw g.create("no-api-key");if($[o]!=null)throw g.create("already-exists",{id:o});if(!He){Ro(ee);const{wrappedGtag:s,gtagCore:a}=jo($,Pe,Ne,ee,ts);Ct=s,je=a,He=!0}return $[o]=Qo(e,Pe,Ne,t,je,ee,n),new es(e)}function os(e=wr()){e=Qe(e);const t=H(e,P);return t.isInitialized()?t.getImmediate():ss(e)}function ss(e,t={}){const n=H(e,P);if(n.isInitialized()){const r=n.getImmediate();if(F(t,n.getOptions()))return r;throw g.create("already-initialized")}return n.initialize({options:t})}function as(e,t,n,o){e=Qe(e),Xo(Ct,$[e.app.options.appId],t,n,o).catch(r=>f.error(r))}const Ve="@firebase/analytics",Ue="0.10.0";function is(){S(new E(P,(t,{options:n})=>{const o=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();return rs(o,r,n)},"PUBLIC")),S(new E("analytics-internal",e,"PRIVATE")),w(Ve,Ue),w(Ve,Ue,"esm2017");function e(t){try{const n=t.getProvider(P).getImmediate();return{logEvent:(o,r,s)=>as(n,o,r,s)}}catch(n){throw g.create("interop-component-reg-failed",{reason:n})}}}is();const cs={apiKey:"AIzaSyBh_gP2-PCBwVg50C_dx9X-7DONSJushXU",authDomain:"book-team-project-js-04.firebaseapp.com",projectId:"book-team-project-js-04",storageBucket:"book-team-project-js-04.appspot.com",messagingSenderId:"662639254549",appId:"1:662639254549:web:06bfb144698d9a8531821c",measurementId:"G-GT0HHT9VRW"},ls=rt(cs),ds=os(ls);console.log(ds);
